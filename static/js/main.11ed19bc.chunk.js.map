{"version":3,"sources":["redux/state-store-manager.js","redux/actions/action-layers.js","components/LayerManagerComponent/index.jsx","rxjs/subjects.js","containers/LayerManagerContainer.jsx","components/LayerEditComponent/index.jsx","containers/EditContainer.jsx","redux/actions/action-config.js","components/BasemapComponent/index.jsx","containers/BasemapContainer.jsx","redux/actions/action-basemaps.js","components/MapSettingsComponent/index.jsx","containers/MapSettingsContainer.jsx","components/LayerModifyComponent/index.jsx","containers/LayerModifyContainer.jsx","components/UiComponent/index.jsx","contexts/MapContext.jsx","contexts/WmsLayer.jsx","contexts/BaseMapLayer.jsx","contexts/MapSettingsManager.jsx","redux/actions/action-mapsettings.js","App.js","redux/reducers/reducer-config.js","redux/reducers/reducer-mapsettings.js","redux/store.js","redux/reducers/reducer-layers.js","redux/config.js","redux/reducers/reducer-basemaps.js","index.js"],"names":["timeoutID","changeLayerProperty","layer","property","type","payload","LayerManagerComponent","_this$props","this","props","title","visible","opacity","onVisibleChanged","onOpacityChanged","children","isEdit","onEditLayer","onDeleteLayer","react_default","a","createElement","className","concat","IconButton_default","onClick","color","Edit_default","fontSize","Clear_default","FormControlLabel_default","labelPlacement","control","Switch_default","checked","onChange","e","v","label","Slider_default","style","padding","margin","_","value","min","max","step","FormGroup_default","map","ll","index","key","onToggled","layerName","Component","setMapPositionSubject","Subject","layerEditModalOpenSubject","layerAddModalOpenSubject","_LayerManagerContainer","chanelayerpropery","nestedLayer","chaneanestedlayerpropery","next","deletelayer","_this","layers","config","Fragment","LayerManagerComponent_LayerManagerComponent","url","onLayerChange","val","j","onANestedLayerChange","LayerManagerContainer","connect","state","dispatch","changeNestedLayerProperty","deleteLayer","LayerEditComponent","isEditMode","onEditModeChange","onLayerAddClicked","onReset","Tooltip_default","Add_default","Refresh_default","aria-label","_EditContainer","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","layerAddContainerRef","React","createRef","bind","assertThisInitialized","window","confirm","resetlayers","oneditmodechange","LayerEditComponent_LayerEditComponent","EditContainer","BasemapComponent","_Component","apply","arguments","inherits","createClass","onOpacityChange","Button_default","variant","mini","Map_default","Card_default","CardContent_default","List_default","BasemapItemComponent","_Component2","_this$props2","ListItem_default","whiteSpace","button","selected","_BasemapContainer","onBasemapChange","basemap","changeactivebasemap","changebasemapopacity","_this2","basemaps","activeBasemap","find","b","basemapItems","BasemapComponent_BasemapItemComponent","BasemapComponent_BasemapComponent","BasemapContainer","changeBasemapOpacity","changeActiveBasemap","_MapSettingsComponent","classes","onMapPositionSet","Settings_default","MapSettingsComponent","withStyles","theme","display","_MapSettingsContainer","MapSettingsContainer","LayerModifyComponent","modalTitle","layerTitle","onLayerTitleChange","bottomComponent","onUrlChange","onClose","open","onNestedLayersTextChange","nestedLayersText","layersArray","_bottomContent","btn","text","Dialog_default","scroll","DialogTitle_default","DialogContent_default","TextField_default","placeholder","helperText","fullWidth","InputLabelProps","shrink","multiline","maxHeight","overflowY","dense","item","react","ListItemText_default","primary","Divider_default","DialogActions_default","_LayerModifyContainer","undefined","layersString","editLayerModalOpen","addLayerModalOpen","subscribe","str","split","l","trim","filter","length","arr","join","_layer","setState","convertLayersArrayToString","_this2$state","doesSomethingChanged","properyObject","_title","_this3","defaultListLayers","t","addnewlayer","_this3$state","reset","defineProperty","convertStringToListLayers","_this4","_this$state","elem","target","onLayerTextChange","LayerModifyContainer","_ref","_ref$visible","_ref$opacity","addNewLayer","UiComponent","Layers_default","MapContext","createContext","MapContainer","_mapReference","zoom","center","_map","olMap","view","olView","controls","setTarget","current","width","height","ref","Provider","WmsLayer","nextProps","_imageLayer","setVisible","setOpacity","getSource","setUrl","updateParams","LAYERS","getLayerParamsOfSource","Image","source","ImageWms","params","serverType","addLayer","removeLayer","Consumer","mapcontext","BaseMapLayer","nextState","_basemapLayer","olTileLayer","zIndex","olTileImage","_MapSettingsManager","_mapPositionSubscription","getView","getZoom","getCenter","setmapposition","unsubscribe","MapSettingsManager","data","_App","mapSettings","wmsLayers","WmsLayer_WmsLayer","basemapLayers","BaseMapLayer_BaseMapLayer","MapContext_MapContainer","UiComponent_UiComponent","App","initialState","initialData","combined","combineReducers","action","_action$payload","i","indexOf","newLayer","assign","_action$payload2","layerIndex","nestedLayerIndex","newNestedLayer","push","splice","newBasemap","oldActiveBasemap","oldActiveBasemapIndex","storedLayers","serialized","localStorage","getItem","JSON","parse","error","loadState","store","createStore","devToolsExtension","getState","clearTimeout","setTimeout","stringify","setItem","saveState","createMuiTheme","typography","useNextVariants","ReactDOM","render","es","styles","document","getElementById"],"mappings":"uLAWIA,mFCHSC,EAAsB,SAACC,EAAOC,GACvC,MAAO,CACHC,KAAM,wBACNC,QAAS,CACLH,QAAOC,2ICAbG,mLACO,IAAAC,EACiHC,KAAKC,MAAnHC,EADHH,EACGG,MAAOC,EADVJ,EACUI,QAASC,EADnBL,EACmBK,QAASC,EAD5BN,EAC4BM,iBAAkBC,EAD9CP,EAC8CO,iBAAkBC,EADhER,EACgEQ,SAAUC,EAD1ET,EAC0ES,OAAQC,EADlFV,EACkFU,YAAaC,EAD/FX,EAC+FW,cAEpG,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAS,SAAAC,OAAWP,EAAS,OAAS,KAGvCG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,CAAYK,QAASR,EAAaS,MAAM,WACpCP,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAUQ,SAAS,WAEvBT,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,CAAYK,QAASP,EAAeQ,MAAM,aACtCP,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAWQ,SAAS,YAG5BT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAACS,EAAAV,EAAD,CACIW,eAAe,QACfC,QACIb,EAAAC,EAAAC,cAACY,EAAAb,EAAD,CAAQM,MAAM,UAAUQ,QAASvB,EAASwB,SAAU,SAACC,EAAGC,GAAJ,OAAUxB,EAAiBwB,MAEnFC,MAAO5B,IAEXS,EAAAC,EAAAC,cAACkB,EAAAnB,EAAD,CAAQoB,MAAO,CAAEC,QAAS,WAAYC,OAAQ,SAAWP,SAAU,SAACQ,EAAGP,GAAJ,OAAUtB,EAAiBsB,IAC1FQ,MAAOhC,EACPiC,IAAK,EAAGC,IAAK,EAAGC,KAAM,OAMlC5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACfH,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,KAEQL,EAASkC,IAAI,SAACC,EAAIC,GASd,OAAOhC,EAAAC,EAAAC,cAACS,EAAAV,EAAD,CACPgC,IAAKF,EAAGE,IAAMD,EACVpB,eAAe,QACfC,QACIb,EAAAC,EAAAC,cAACY,EAAAb,EAAD,CAAQc,QAASgB,EAAGvC,QAASwB,SAAU,SAACC,EAAGC,GAAJ,OAAUa,EAAGG,UAAUhB,MAElEC,MAAOY,EAAGI,wBAnDNC,sBCTvBC,EAAwB,IAAIC,IAE5BC,EAA4B,IAAID,IAEhCE,EAA2B,IAAIF,ICFtCG,wLAEY1D,EAAOC,GACjBK,KAAKC,MAAMoD,kBAAkB3D,EAAOC,gDAEnBD,EAAO4D,EAAa3D,GACrCK,KAAKC,MAAMsD,yBAAyB7D,EAAO4D,EAAa3D,uCAEhDD,GACRwD,EAA0BM,KAAK9D,yCAErBA,IAEV+D,EADwBzD,KAAKC,MAArBwD,aACI/D,oCAEP,IAAAgE,EAAA1D,KAAAD,EACqBC,KAAKC,MAAvB0D,EADH5D,EACG4D,OAAQC,EADX7D,EACW6D,OAChB,OACIjD,EAAAC,EAAAC,cAACF,EAAAC,EAAMiD,SAAP,KAEQF,EAAOlB,IAAI,SAAC/C,EAAOiD,GAEf,OAAOhC,EAAAC,EAAAC,cAACiD,EAAD,CACHlB,IAAKlD,EAAMqE,IAAMpB,EACjBtC,iBAAkB,kBAAMqD,EAAKM,cAActE,EAAO,CAAES,SAAUT,EAAMS,WACpEG,iBAAkB,SAAC2D,GAAD,OAASP,EAAKM,cAActE,EAAO,CAAEU,QAAS6D,KAChE7D,QAASV,EAAMU,QACfD,QAAST,EAAMS,QACf4D,IAAKrE,EAAMqE,IACX7D,MAAOR,EAAMQ,MACbM,OAAQoD,EAAOpD,OACfC,YAAa,kBAAMiD,EAAKjD,YAAYf,IACpCgB,cAAe,kBAAMgD,EAAKhD,cAAchB,KAEvCA,EAAMiE,OAAOlB,IAAI,SAACa,EAAaY,GAC5B,MAAO,CACHtB,IAAKU,EAAYR,UAAYoB,EAC7B/D,QAASmD,EAAYnD,QACrB2C,UAAWQ,EAAYR,UACvBD,UAAW,kBAAMa,EAAKS,qBAAqBzE,EAAO4D,EAAa,CAAEnD,SAAUmD,EAAYnD,yBAvCtF4C,aA0D/BqB,EAAwBC,YATN,SAACC,GAAD,MAAY,CAChCX,OAAQW,EAAMX,OACdC,OAAQU,EAAMV,SAES,SAACW,GAAD,MAAe,CACtClB,kBAAmB,SAAC3D,EAAOC,GAAR,OAAqB4E,EAAS9E,EAAoBC,EAAOC,KAC5E4D,yBAA0B,SAAC7D,EAAO4D,EAAa3D,GAArB,OAAkC4E,EH5DvB,SAAC7E,EAAO4D,EAAa3D,GAC1D,MAAO,CACHC,KAAM,+BACNC,QAAS,CACLH,QAAO4D,cAAa3D,aGwDyC6E,CAA0B9E,EAAO4D,EAAa3D,KACnH8D,YAAa,SAAC/D,GAAD,OAAW6E,EHjCD,SAAC7E,GACxB,MAAO,CACHE,KAAM,eACNC,QAASH,GG8BoB+E,CAAY/E,OAEnB2E,CAA6CjB,0ECxDrEsB,mLACO,IAAA3E,EACgEC,KAAKC,MAAlE0E,EADH5E,EACG4E,WAAYC,EADf7E,EACe6E,iBAAkBC,EADjC9E,EACiC8E,kBAAmBC,EADpD/E,EACoD+E,QACzD,OACInE,EAAAC,EAAAC,cAAA,WAEK8D,EACIhE,EAAAC,EAAAC,cAACF,EAAAC,EAAMiD,SAAP,KACGlD,EAAAC,EAAAC,cAACkE,EAAAnE,EAAD,CAASV,MAAM,MAAMe,QAAS4D,GAC1BlE,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,CAAYM,MAAM,WACdP,EAAAC,EAAAC,cAACmE,EAAApE,EAAD,CAASQ,SAAS,YAG1BT,EAAAC,EAAAC,cAACkE,EAAAnE,EAAD,CAASV,MAAM,QAAQe,QAAS6D,GAC5BnE,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,CAAYM,MAAM,WACdP,EAAAC,EAAAC,cAACoE,EAAArE,EAAD,CAAaQ,SAAS,aAIhC,KAENT,EAAAC,EAAAC,cAACG,EAAAJ,EAAD,CAAYsE,aAAW,OAAOjE,QAAS2D,EAAkB1D,MAAOyD,EAAa,YAAa,WACrFA,EACGhE,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAWQ,SAAS,UAEpBT,EAAAC,EAAAC,cAACM,EAAAP,EAAD,CAAUQ,SAAS,mBAzBV2B,aCA3BoC,cACF,SAAAA,IAAc,IAAAzB,EAAA,OAAA0B,OAAAC,EAAA,EAAAD,CAAApF,KAAAmF,IACVzB,EAAA0B,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAxF,QACKyF,qBAAuBC,IAAMC,YAClCjC,EAAKmB,kBAAoBnB,EAAKmB,kBAAkBe,KAAvBR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KACzBA,EAAKoB,QAAUpB,EAAKoB,QAAQc,KAAbR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KAJLA,yEAONoC,OAAOC,QAAQ,kCAEfC,EADwBhG,KAAKC,MAArB+F,2DAKZ7C,EAAyBK,wCAEpB,IAAAzD,EACgCC,KAAKC,MAAlC2D,EADH7D,EACG6D,OAAQqC,EADXlG,EACWkG,iBAChB,OACItF,EAAAC,EAAAC,cAACF,EAAAC,EAAMiD,SAAP,KAEIlD,EAAAC,EAAAC,cAACqF,EAAD,CACItB,iBAAkB,kBAAMqB,GAAkBrC,EAAOpD,SACjDmE,WAAYf,EAAOpD,OACnBqE,kBAAmB7E,KAAK6E,kBACxBC,QAAS9E,KAAK8E,kBAzBL/B,aAwCvBoD,EAAgB9B,YAJE,SAACC,GAAD,MAAY,CAChCV,OAAQU,EAAMV,OACdD,OAAQW,EAAMX,SANS,SAACY,GAAD,MAAe,CACtC0B,iBAAkB,SAAChC,GAAD,OAASM,ECrCpB,CACH3E,KAAM,oBACNC,QDmC4CoE,KAChD+B,YAAa,SAAC/B,GAAD,OAASM,ELNf,CACH3E,KAAM,oBKWQyE,CAA6Cc,0HErCtDiB,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAhB,OAAAC,EAAA,EAAAD,CAAApF,KAAAoG,GAAAhB,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAAgB,GAAAE,MAAAtG,KAAAuG,YAAA,OAAAnB,OAAAoB,EAAA,EAAApB,CAAAgB,EAAAC,GAAAjB,OAAAqB,EAAA,EAAArB,CAAAgB,EAAA,EAAAxD,IAAA,SAAAR,MAAA,WACa,IAAArC,EAC0CC,KAAKC,MAA5CG,EADHL,EACGK,QAASsG,EADZ3G,EACY2G,gBAAiBnG,EAD7BR,EAC6BQ,SAClC,OACII,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAC8F,EAAA/F,EAAD,CAAQgG,QAAQ,MAAM1F,MAAM,UAAU2F,MAAI,GACtClG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAD,QAGRD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,KACID,EAAAC,EAAAC,cAACmG,EAAApG,EAAD,CAAaoB,MAAO,CAAEC,QAAS,QAC3BtB,EAAAC,EAAAC,cAACoG,GAAArG,EAAD,KACKL,IAGTI,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAEC,QAAS,QACnBtB,EAAAC,EAAAC,cAACkB,EAAAnB,EAAD,CAAQoB,MAAO,CAAEC,QAAS,YAAcN,SAAU+E,EAC9CtE,MAAOhC,EACPiC,IAAK,EAAGC,IAAK,EAAGC,KAAM,aApBtD6D,EAAA,CAAsCrD,aA6BzBmE,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAA9B,OAAAC,EAAA,EAAAD,CAAApF,KAAAkH,GAAA9B,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAA8B,GAAAZ,MAAAtG,KAAAuG,YAAA,OAAAnB,OAAAoB,EAAA,EAAApB,CAAA8B,EAAAC,GAAA/B,OAAAqB,EAAA,EAAArB,CAAA8B,EAAA,EAAAtE,IAAA,SAAAR,MAAA,WACa,IAAAgF,EACkCpH,KAAKC,MAApCE,EADHiH,EACGjH,QAASc,EADZmG,EACYnG,QAASV,EADrB6G,EACqB7G,SAE1B,OACII,EAAAC,EAAAC,cAACwG,GAAAzG,EAAD,CAAUoB,MAAO,CAAEC,QAAS,MAAOqF,WAAY,UAAYC,QAAM,EAACC,SAAUrH,EAASc,QAASA,GACzFV,OANjB2G,EAAA,CAA0CnE,aCnCpC0E,eACF,SAAAA,IAAc,IAAA/D,EAAA,OAAA0B,OAAAC,EAAA,EAAAD,CAAApF,KAAAyH,IACV/D,EAAA0B,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAAqC,GAAAjC,KAAAxF,QACK0H,gBAAkBhE,EAAKgE,gBAAgB9B,KAArBR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KACvBA,EAAKgD,gBAAkBhD,EAAKgD,gBAAgBd,KAArBR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KAHbA,+EAKEiE,GAEZ3H,KAAKC,MAAM2H,oBAAoBD,2CAEnBA,EAASvH,GACrBJ,KAAKC,MAAM4H,qBAAqBF,EAASvH,oCAEpC,IAAA0H,EAAA9H,KACG+H,EAAa/H,KAAKC,MAAlB8H,SACFC,EAAgBD,EAASE,KAAK,SAAAC,GAAC,OAAIA,EAAE/H,UACrCgI,EAAeJ,EAAStF,IAAI,SAACkF,EAAShF,GACxC,OAAOhC,EAAAC,EAAAC,cAACuH,GAAD,CACHxF,IAAKD,EACL1B,QAAS,kBAAM6G,EAAKJ,gBAAgBC,IACpCxH,QAASwH,EAAQxH,SAEhBwH,EAAQzH,SAGjB,OACIS,EAAAC,EAAAC,cAACwH,GAAD,CACIjI,QAAS4H,EAAc5H,QACvBsG,gBAAiB,SAAC9E,EAAGqC,GAAJ,OAAY6D,EAAKpB,gBAAgBsB,EAAe/D,KAChEkE,UA7BepF,aA0C1BuF,GAAmBjE,YARD,SAACC,GAAD,MAAY,CAChCyD,SAAUzD,EAAMyD,WAEO,SAACxD,GAAD,MAAe,CACtCsD,qBAAsB,SAACF,EAASvH,GAAV,OAAsBmE,EC1CZ,SAACoD,EAASvH,GAC1C,MAAO,CACHR,KAAM,yBACNC,QAAS,CACL8H,UAASvH,YDsCoCmI,CAAqBZ,EAASvH,KACnFwH,oBAAqB,SAACD,GAAD,OAAapD,ECnCH,SAACoD,GAChC,MAAO,CACH/H,KAAM,wBACNC,QAAS,CACL8H,YD+BmCa,CAAoBb,OAG1CtD,CAA6CoD,kCErChEgB,oLACK,IAAA1I,EAC+BC,KAAKC,MAAnCyI,EADD3I,EACC2I,QAASC,EADV5I,EACU4I,iBACjB,OACEhI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAC8F,EAAA/F,EAAD,CAAQgG,QAAQ,MAAM1F,MAAM,UAAU2F,MAAI,GACxClG,EAAAC,EAAAC,cAAC+H,GAAAhI,EAAD,CAAcQ,SAAS,YAG3BT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,KACED,EAAAC,EAAAC,cAACmG,EAAApG,EAAD,KACED,EAAAC,EAAAC,cAAC8F,EAAA/F,EAAD,CAAQK,QAAS0H,EAAkB7H,UAAW4H,EAAQnB,OAAQX,QAAQ,YAAY1F,MAAM,WAAxF,kDAbsB6B,aA2B9B8F,GAAuBC,sBANd,SAAAC,GAAK,MAAK,CACvBxB,OAAQ,CACNyB,QAAS,WAIgBF,CAAmBL,IChC1CQ,eACJ,SAAAA,IAAa,IAAAvF,EAAA,OAAA0B,OAAAC,EAAA,EAAAD,CAAApF,KAAAiJ,IACXvF,EAAA0B,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAA6D,GAAAzD,KAAAxF,QACK2I,iBAAmBjF,EAAKiF,iBAAiB/C,KAAtBR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KAFbA,kFAKXV,EAAsBQ,wCAGtB,OACI7C,EAAAC,EAAAC,cAACgI,GAAD,CAAsBF,iBAAkB3I,KAAK2I,0BAVjB5F,aAmB9BmG,GAAuB7E,YAJL,SAACC,GAAD,MAAY,IAIPD,CAAyB4E,iKCgFhDE,oLAxFO,IAAApJ,EAaDC,KAAKC,MAXLmJ,EAFCrJ,EAEDqJ,WACAC,EAHCtJ,EAGDsJ,WACAC,EAJCvJ,EAIDuJ,mBACAC,EALCxJ,EAKDwJ,gBACAxF,EANChE,EAMDgE,IACAyF,EAPCzJ,EAODyJ,YACAC,EARC1J,EAQD0J,QACAC,EATC3J,EASD2J,KACAC,EAVC5J,EAUD4J,yBACAC,EAXC7J,EAWD6J,iBACAC,EAZC9J,EAYD8J,YAEEC,EAAiBP,EAAgB9G,IAAI,SAACsH,EAAKpH,GAAN,OACvChC,EAAAC,EAAAC,cAAC8F,EAAA/F,EAAD,CAAQgC,IAAKD,EAAOzB,MAAM,UAAUD,QAAS8I,EAAI9I,SAC5C8I,EAAIC,QAGb,OACIrJ,EAAAC,EAAAC,cAACoJ,GAAArJ,EAAD,CACI8I,KAAMA,EACND,QAASA,EACTS,OAAO,QAEPvJ,EAAAC,EAAAC,cAACsJ,GAAAvJ,EAAD,KAAcwI,GACdzI,EAAAC,EAAAC,cAACuJ,GAAAxJ,EAAD,KACID,EAAAC,EAAAC,cAACwJ,GAAAzJ,EAAD,CACIkB,MAAM,MACNE,MAAO,CAAEE,OAAQ,GACjBoI,YAAY,4CACZC,WAAW,oBACXC,WAAS,EACTtI,OAAO,SACPuI,gBAAiB,CACbC,QAAQ,GAEZtI,MAAO2B,EACPpC,SAAU6H,IAEd7I,EAAAC,EAAAC,cAACwJ,GAAAzJ,EAAD,CACIkB,MAAM,OACNE,MAAO,CAAEE,OAAQ,GACjBoI,YAAY,eACZE,WAAS,EACTD,WAAW,iBACXrI,OAAO,SACPuI,gBAAiB,CACbC,QAAQ,GAEZtI,MAAOiH,EACP1H,SAAU2H,IAEd3I,EAAAC,EAAAC,cAACwJ,GAAAzJ,EAAD,CACIkB,MAAM,eACNwI,YAAY,4DACZK,WAAS,EACTH,WAAS,EACTxI,MAAO,CAAEE,OAAQ,GACjBA,OAAO,SACPE,MAAOwH,EACPjI,SAAUgI,IAEdhJ,EAAAC,EAAAC,cAACoG,GAAArG,EAAD,CAAMoB,MAAO,CAAEE,OAAQ,EAAG0I,UAAW,IAAKC,UAAW,QAAUC,OAAO,GACjEjB,EAAYpH,IAAI,SAACsI,EAAMpI,GAAP,OACbhC,EAAAC,EAAAC,cAACmK,EAAA,SAAD,CAAUpI,IAAKD,GACXhC,EAAAC,EAAAC,cAACwG,GAAAzG,EAAD,CAAUgC,IAAKD,GACXhC,EAAAC,EAAAC,cAACoK,GAAArK,EAAD,CACIgC,IAAKD,EACLuI,QAASH,KAGjBpK,EAAAC,EAAAC,cAACsK,GAAAvK,EAAD,UAIZD,EAAAC,EAAAC,cAACuK,GAAAxK,EAAD,KACKkJ,EACDnJ,EAAAC,EAAAC,cAAC8F,EAAA/F,EAAD,CAAQM,MAAM,YAAYD,QAASwI,GAAnC,mBA/EY1G,aCR9BsI,eACF,SAAAA,IAAc,IAAA3H,EAAA,OAAA0B,OAAAC,EAAA,EAAAD,CAAApF,KAAAqL,IACV3H,EAAA0B,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAAiG,GAAA7F,KAAAxF,QACKsE,MAAQ,CAAEoF,MAAM,EAAO3F,SAAKuH,EAAWpL,WAAOoL,EAAWzB,YAAa,GAAI0B,aAAc,IAC7F7H,EAAK+F,QAAU/F,EAAK+F,QAAQ7D,KAAbR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KACfA,EAAK8H,mBAAqB9H,EAAK8H,mBAAmB5F,KAAxBR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KAC1BA,EAAK+H,kBAAoB/H,EAAK+H,kBAAkB7F,KAAvBR,OAAAS,EAAA,EAAAT,QAAAS,EAAA,EAAAT,CAAA1B,KACzBR,EAA0BwI,UAAUhI,EAAK8H,oBACzCrI,EAAyBuI,UAAUhI,EAAK+H,mBAP9B/H,yFAUYiI,GACtB,OAAOA,EAAIC,MAAM,KAAKnJ,IAAI,SAAAoJ,GAAC,OAAIA,EAAEC,SAAQC,OAAO,SAAAF,GAAC,OAAIA,EAAEG,OAAS,uDAEzCC,GACvB,OAAOA,EAAIxJ,IAAI,SAAAoJ,GAAC,OAAKA,EAAE/I,YAAYoJ,KAAK,sCAGxClM,KAAKmM,YAASb,EACdtL,KAAKoM,SAAS,CAAErI,SAAKuH,EAAWpL,WAAOoL,EAAWzB,YAAa,GAAI0B,aAAc,gDAGlE7L,GAAO,IAAAoI,EAAA9H,KACtBA,KAAKmM,OAASzM,EACdM,KAAKoM,SAAS,CACV1C,MAAM,EACN3F,IAAKrE,EAAMqE,IACX7D,MAAOR,EAAMQ,MACb2J,YAAanK,EAAMiE,OAAOlB,IAAI,SAAAoJ,GAAC,OAAKA,EAAE/I,YACtCyI,aAAcvL,KAAKqM,2BAA2B3M,EAAMiE,UA2BxD3D,KAAK8J,eAAiB,CAAC,CAAEE,KAAM,eAAgB/I,QAxB3B,WAAM,IACdoC,EAAsByE,EAAK7H,MAA3BoD,kBADciJ,EAEcxE,EAAKxD,MAAjCP,EAFcuI,EAEdvI,IAAK7D,EAFSoM,EAETpM,MAAO2J,EAFEyC,EAEFzC,YAChB0C,GAAuB,EACvBC,EAAgB,GAChB1E,EAAKqE,OAAOpI,MAAQA,IACpBwI,GAAuB,EACvBC,EAAczI,IAAMA,GAEpB+D,EAAKqE,OAAOjM,QAAUA,IACtBqM,GAAuB,EACvBC,EAActM,MAAQA,GAEtB4H,EAAKqE,OAAOxI,OAAOqI,SAAWnC,EAAYmC,QAC1ClE,EAAKqE,OAAOxI,OAAOlB,IAAI,SAAAoJ,GAAC,OAAIA,EAAE/I,UAAUgJ,SAAQI,KAAK,OAASrC,EAAYqC,KAAK,OAE/EK,GAAuB,EACvBC,EAAc7I,OAASkG,EAAYpH,IAAI,SAAAoJ,GAAC,MAAK,CAAE/I,UAAW+I,EAAG1L,SAAS,MAEtEoM,IACAlJ,EAAkByE,EAAKqE,OAAQK,GAC/B1E,EAAK2B,cAIbzJ,KAAKyM,OAAS,2DAEE,IAAAC,EAAA1M,KAChBA,KAAKmM,YAASb,EACd,IAGMqB,EADgB,2BACkBf,MAAM,KAAKnJ,IAAI,SAAAmK,GAAC,OAAIA,EAAEd,SAE9D9L,KAAKoM,SAAS,CACV1C,MAAM,EACN3F,IAPe,2CAQf7D,MAPiB,OAQjB2J,YAAa8C,EACbpB,aAAc,6BAiBlBvL,KAAK8J,eAAiB,CAClB,CAAEE,KAAM,YAAa/I,QAhBN,WAAM,IACb4L,EAAgBH,EAAKzM,MAArB4M,YADaC,EAEeJ,EAAKpI,MAEzCuI,EAAY,CAAE9I,IAJO+I,EAEb/I,IAEW7D,MAJE4M,EAER5M,MAEayD,OAJLmJ,EAEDjD,YACOpH,IAAI,SAAAoJ,GAAC,MAAK,CAAE/I,UAAW+I,EAAG1L,SAAS,SAc9D,CAAE6J,KAAM,eAAgB/I,QAXJ,WACpByL,EAAKN,SAAS,CACVlM,MAAO,GACP6D,IAAK,GACLwH,aAAc,GACd1B,YAAa,QAQrB7J,KAAKyM,OAAS,8CAGdzM,KAAK+M,QACL/M,KAAKoM,SAAS,CAAE1C,MAAM,qCAEjB9G,EAAKqB,GACVjE,KAAKoM,SAALhH,OAAA4H,GAAA,EAAA5H,CAAA,GAAiBxC,EAAMqB,8CAETsH,GACdvL,KAAKoM,SAAS,CACVvC,YAAa7J,KAAKiN,0BAA0B1B,GAC5CA,aAAcA,qCAIb,IAAA2B,EAAAlN,KAAAmN,EACmDnN,KAAKsE,MAArDoF,EADHyD,EACGzD,KAAM3F,EADToJ,EACSpJ,IAAK7D,EADdiN,EACcjN,MAAOqL,EADrB4B,EACqB5B,aAAc1B,EADnCsD,EACmCtD,YACxC,OAAKH,EAID/I,EAAAC,EAAAC,cAACsI,GAAD,CACIO,KAAMA,EACNN,WAAYpJ,KAAKyM,OACjB1I,IAAKA,EACLyF,YAAa,SAAC4D,GAAD,OAAUF,EAAKvL,SAAS,MAAOyL,EAAKC,OAAOjL,QACxDiH,WAAYnJ,EACZoJ,mBAAoB,SAAC8D,GAAD,OAAUF,EAAKvL,SAAS,QAASyL,EAAKC,OAAOjL,QACjEmH,gBAAiBvJ,KAAK8J,eACtBD,YAAaA,EACbJ,QAASzJ,KAAKyJ,QACdG,iBAAkB2B,EAClB5B,yBAA0B,SAACyD,GAAD,OAAUF,EAAKI,kBAAkBF,EAAKC,OAAOjL,UAdpE,YA/GiBW,aAsI9BwK,GAAuBlJ,iBAAQiH,EAJV,SAAC/G,GAAD,MAAe,CACtClB,kBAAmB,SAAC3D,EAAOC,GAAR,OAAqB4E,EAAS9E,EAAoBC,EAAOC,KAC5EkN,YAAa,SAACnN,GAAD,OAAW6E,Eb1HD,SAAAiJ,GAAyD,IAAtDtN,EAAsDsN,EAAtDtN,MAAO6D,EAA+CyJ,EAA/CzJ,IAAKJ,EAA0C6J,EAA1C7J,OAA0C8J,EAAAD,EAAlCrN,eAAkC,IAAAsN,KAAAC,EAAAF,EAAlBpN,QAC9D,MAAO,CACHR,KAAM,gBACNC,QAAS,CACLK,QACA6D,MACAJ,SACAxD,UACAC,aARwE,IAAAsN,EAAR,EAAQA,Ia0H/CC,CAAYjO,OAEpB2E,CAAuCgH,yBC/HvDuC,GAAc,SAAC3N,GACxB,OACIU,EAAAC,EAAAC,cAAA,OAAKC,UAAS,wBAAAC,OAA0Bd,EAAMO,OAAS,OAAS,KAC5DG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAC8F,EAAA/F,EAAD,CAAQE,UAAU,4BAA4B8F,QAAQ,MAAM1F,MAAM,UAAU2F,MAAI,GAC5ElG,EAAAC,EAAAC,cAACgN,GAAAjN,EAAD,CAAYQ,SAAS,WAEzBT,EAAAC,EAAAC,cAACkG,EAAAnG,EAAD,CAAME,UAAU,kBACZH,EAAAC,EAAAC,cAACmG,EAAApG,EAAD,KACID,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAACsF,EAAD,OAEJxF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACXH,EAAAC,EAAAC,cAACuD,EAAD,UAKhBzD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAACqI,GAAD,MACAvI,EAAAC,EAAAC,cAACyH,GAAD,OAEJ3H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAC0M,GAAD,6BCjCVO,GAAapI,IAAMqI,cAAc,CACnCtL,IAAK,OAEHuL,8MACFC,cAAgBvI,IAAMC,gGACD,IAAA5F,EACQC,KAAKC,MAAtBiO,EADSnO,EACTmO,KAAMC,EADGpO,EACHoO,OACdnO,KAAKoO,KAAO,IAAIC,KAAM,CAClBC,KAAM,IAAIC,KAAO,CACbL,KAAMA,GAAQ,EACdC,OAAQA,GAAU,CAAC,KAAS,OAEhCK,SAAU,GACV7K,OAAQ,iDAIZ3D,KAAKoO,KAAKK,UAAUzO,KAAKiO,cAAcS,0CAElC,IACGnO,EAAaP,KAAKC,MAAlBM,SACR,OACII,EAAAC,EAAAC,cAAA,OAAKmB,MAAO,CAAE2M,MAAO,OAAQC,OAAQ,QAAWC,IAAK7O,KAAKiO,eACtDtN,EAAAC,EAAAC,cAACiN,GAAWgB,SAAZ,CAAqB1M,MAAO,CAAEK,IAAKzC,KAAKoO,OACnC7N,WArBMwC,iCCArBgM,kMACqBpL,GACnB,OAAOA,EAAOoI,OAAO,SAAArJ,GAAE,OAAmB,IAAfA,EAAGvC,UAAkBsC,IAAI,SAAAC,GAAE,OAAIA,EAAGI,YAAWoJ,KAAK,mDAE3D8C,GAAW,IAAAjP,EACaC,KAAKC,MAAvCE,EADqBJ,EACrBI,QAASC,EADYL,EACZK,QAASuD,EADG5D,EACH4D,OAAQI,EADLhE,EACKgE,IAelC,OAbIiL,EAAU7O,UAAYA,GACtBH,KAAKiP,YAAYC,WAAWF,EAAU7O,SAEtC6O,EAAU5O,UAAYA,GACtBJ,KAAKiP,YAAYE,WAAWH,EAAU5O,SAEtC4O,EAAUjL,MAAQA,GAClB/D,KAAKiP,YAAYG,YAAYC,OAAOL,EAAUjL,KAE9CiL,EAAUrL,SAAWA,GACrB3D,KAAKiP,YAAYG,YAAYE,aAAa,CAAEC,OAAQvP,KAAKwP,uBAAuBR,EAAUrL,WAGvF,8CAES,IAAAyD,EAC0BpH,KAAKC,MAAvC8D,EADQqD,EACRrD,IAAK3D,EADGgH,EACHhH,QAASD,EADNiH,EACMjH,QAASwD,EADfyD,EACezD,OAC3BI,GAAOJ,IACP3D,KAAKiP,YAAc,IAAIQ,KAAM,CACzBC,OAAQ,IAAIC,KAAS,CACjB5L,IAAKA,EACL6L,OAAQ,CAAEL,OAAQvP,KAAKwP,uBAAuB7L,IAC9CkM,WAAY,cAEhBzP,QAASA,GAAW,EACpBD,QAASA,IAEbH,KAAKoO,KAAK0B,SAAS9P,KAAKiP,6DAI5BjP,KAAKoO,KAAK2B,YAAY/P,KAAKiP,8CAEtB,IAAAvL,EAAA1D,KACL,OAAQW,EAAAC,EAAAC,cAACiN,GAAWkC,SAAZ,KAEA,SAACC,GAEG,OADAvM,EAAK0K,KAAO6B,EAAWxN,IAChB,cA7CJM,iCCDVmN,GAAb,SAAA7J,GAAA,SAAA6J,IAAA,OAAA9K,OAAAC,EAAA,EAAAD,CAAApF,KAAAkQ,GAAA9K,OAAAE,EAAA,EAAAF,CAAApF,KAAAoF,OAAAG,EAAA,EAAAH,CAAA8K,GAAA5J,MAAAtG,KAAAuG,YAAA,OAAAnB,OAAAoB,EAAA,EAAApB,CAAA8K,EAAA7J,GAAAjB,OAAAqB,EAAA,EAAArB,CAAA8K,EAAA,EAAAtN,IAAA,wBAAAR,MAAA,SAE0B4M,EAAWmB,GAAW,IAAApQ,EACNC,KAAKC,MAA/B8D,EADgChE,EAChCgE,IAAK3D,EAD2BL,EAC3BK,QAASD,EADkBJ,EAClBI,QAmBtB,OAjBI6O,EAAU7O,UAAYA,GACtBH,KAAKoQ,cAAclB,WAAWF,EAAU7O,SAExC6O,EAAU5O,UAAYA,IACtBJ,KAAKoQ,cAAcjB,WAAWH,EAAU5O,SAEf,IAAtB4O,EAAU5O,QACTJ,KAAKoQ,cAAclB,YAAW,GAE1BF,EAAU5O,QAAU,IAAiB,IAAZD,GAC7BH,KAAKoQ,cAAclB,YAAW,IAGlCF,EAAUjL,MAAQA,GAClB/D,KAAKoQ,cAAchB,YAAYC,OAAOL,EAAUjL,MAG7C,IAtBf,CAAAnB,IAAA,oBAAAR,MAAA,WAwBwB,IAAAgF,EACkBpH,KAAKC,MAA/B8D,EADQqD,EACRrD,IAAK3D,EADGgH,EACHhH,QAASD,EADNiH,EACMjH,QACjBH,KAAKoQ,gBACNpQ,KAAKoQ,cAAgB,IAAIC,KAAY,CACjCC,QAAS,EACTZ,OAAQ,IAAIa,KAAY,CAAExM,QAC1B5D,QAASA,EACTC,QAASA,IAEbJ,KAAKoO,KAAK0B,SAAS9P,KAAKoQ,kBAjCpC,CAAAxN,IAAA,uBAAAR,MAAA,WAqCWpC,KAAKoO,MAAQpO,KAAKoQ,eACjBpQ,KAAKoO,KAAK2B,YAAY/P,KAAKoQ,iBAtCvC,CAAAxN,IAAA,SAAAR,MAAA,WAyCa,IAAAsB,EAAA1D,KACL,OAAQW,EAAAC,EAAAC,cAACiN,GAAWkC,SAAZ,KAEA,SAACC,GAEG,OADAvM,EAAK0K,KAAO6B,EAAWxN,IAChB,WA9C3ByN,EAAA,CAAkCnN,aCE5ByN,+LACiB,IAAA9M,EAAA1D,KACfA,KAAKyQ,yBAA2BzN,EAAsB0I,UAAU,WAC5D,IAAM4C,EAAO5K,EAAK0K,KAAKsC,UACjBxC,EAAOI,EAAKqC,UACZxC,EAASG,EAAKsC,YACpBlN,EAAKzD,MAAM4Q,eAAe,CAAC3C,OAAMC,4DAIlCnO,KAAKyQ,0BACJzQ,KAAKyQ,yBAAyBK,+CAG7B,IAAAhJ,EAAA9H,KACL,OACIW,EAAAC,EAAAC,cAACiN,GAAWkC,SAAZ,KAEQ,SAACC,GAEG,OADAnI,EAAKsG,KAAO6B,EAAWxN,IAChB,cApBGM,aA+B5BgO,GAAqB1M,iBAAQiH,EAJR,SAAC/G,GAAD,MAAe,CACtCsM,eAAgB,SAACG,GAAD,OAAUzM,ECnCqB,CAC/C3E,KAAM,0BACNC,QAAS,CAACqO,MAFgBV,EDmCwBwD,GCnCtB9C,KAEZC,OAFUX,EAAQW,UAAR,IAAAX,KDsCHnJ,CAAuCmM,IE/B5DS,oLAEK,IAAAlR,EAC2CC,KAAKC,MAA/C0D,EADD5D,EACC4D,OAAQoE,EADThI,EACSgI,SAAUnE,EADnB7D,EACmB6D,OAAQsN,EAD3BnR,EAC2BmR,YAC9BC,EAAYxN,EAAOlB,IAAI,SAAC/C,EAAOiD,GACjC,OAAOhC,EAAAC,EAAAC,cAACuQ,GAAD,CACLxO,IAAKD,EACLoB,IAAKrE,EAAMqE,IACXJ,OAAQjE,EAAMiE,OACdxD,QAAST,EAAMS,QACfC,QAASV,EAAMU,YAGbiR,EAAgBtJ,EAAStF,IAAI,SAAC/C,EAAOiD,GACzC,OAAOhC,EAAAC,EAAAC,cAACyQ,GAAD,CACL1O,IAAKD,EACLoB,IAAKrE,EAAMqE,IACX5D,QAAST,EAAMS,QACfC,QAASV,EAAMU,QACfF,MAAOR,EAAMQ,UAGjB,OACES,EAAAC,EAAAC,cAACF,EAAAC,EAAMiD,SAAP,KACElD,EAAAC,EAAAC,cAAC0Q,GAAD,CAAcpD,OAAQ+C,EAAY/C,OAAQD,KAAMgD,EAAYhD,MACzDiD,EACAE,EACD1Q,EAAAC,EAAAC,cAACkQ,GAAD,OAEFpQ,EAAAC,EAAAC,cAAC2Q,GAAD,CAAahR,OAAQoD,EAAOpD,iBA7BjBuC,aAwCb0O,GAAMpN,YANY,SAACC,GAAD,MAAY,CAClCX,OAAQW,EAAMX,OACdC,OAAQU,EAAMV,OACdmE,SAAUzD,EAAMyD,SAChBmJ,YAAa5M,EAAM4M,cAET7M,CAAyB4M,sBC/C/BS,GAAe,CACjBlR,QAAQ,GCDNmR,GAAc,CAChBxD,YAAQ7C,EACR4C,UAAM5C,GCOJsG,GAAWC,aAAgB,CAC7BlO,OCTwB,WAAwB,IAAvBW,EAAuBiC,UAAAyF,OAAA,QAAAV,IAAA/E,UAAA,GAAAA,UAAA,GAAf,GAAIuL,EAAWvL,UAAAyF,OAAA,EAAAzF,UAAA,QAAA+E,EAEhD,GAAoB,0BAAhBwG,EAAOlS,KAAkC,KAAAmS,EACbD,EAAOjS,QAA3BH,EADiCqS,EACjCrS,MAAOC,EAD0BoS,EAC1BpS,SACXqS,EAAI1N,EAAM2N,QAAQvS,GAElBwS,EAAW9M,OAAO+M,OAAO,GAAIzS,EAAOC,GAExC,OADA2E,EAAM0N,GAAKE,EACJ9M,OAAO+M,OAAO,GAAI7N,GAExB,GAAoB,iCAAhBwN,EAAOlS,KAAyC,KAAAwS,EAEZN,EAAOjS,QAAxCH,EAF6C0S,EAE7C1S,MAAO4D,EAFsC8O,EAEtC9O,YAAa3D,EAFyByS,EAEzBzS,SACtB0S,EAAa/N,EAAM2N,QAAQvS,GAC3B4S,EAAmB5S,EAAMiE,OAAOsO,QAAQ3O,GAC1CiP,EAAiBnN,OAAO+M,OAAO,GAAI7O,EAAa3D,GAEpDD,EAAMiE,OAAO2O,GAAoBC,EACjC7S,EAAMiE,OAASyB,OAAO+M,OAAO,GAAIzS,EAAMiE,QACvC,IAAIuO,EAAW9M,OAAO+M,OAAO,GAAIzS,GAEjC,OADA4E,EAAM+N,GAAcH,EACb9M,OAAO+M,OAAO,GAAI7N,GAExB,GAAoB,kBAAhBwN,EAAOlS,KAEZ,OADA0E,EAAMkO,KAAKV,EAAOjS,SACXuF,OAAO+M,OAAO,GAAI7N,GAExB,GAAoB,iBAAhBwN,EAAOlS,KAAyB,CACrC,IAAIF,EAAQoS,EAAOjS,QACf8C,EAAQ2B,EAAM2N,QAAQvS,GAE1B,OADA4E,EAAMmO,OAAO9P,EAAO,GACbyC,OAAO+M,OAAO,GAAI7N,GAExB,MAAoB,iBAAhBwN,EAAOlS,KACLwF,OAAO+M,OAAO,GC9BnB,CACN,CACEjS,MAAS,cACT6D,IAAO,+CACP3D,QAAW,GACXR,KAAQ,YACRO,SAAW,EACXwD,OAAU,CACR,CACEb,UAAa,qBACb3C,SAAW,GAEb,CACE2C,UAAa,eACb3C,SAAW,ODkBVmE,GD1BPV,OFRyB,WAAkC,IAAjCU,EAAiCiC,UAAAyF,OAAA,QAAAV,IAAA/E,UAAA,GAAAA,UAAA,GAAzBmL,GAAcI,EAAWvL,UAAAyF,OAAA,EAAAzF,UAAA,QAAA+E,EAC3D,MAAoB,sBAAhBwG,EAAOlS,KACAwF,OAAO+M,OAAO,GAAI7N,EAAO,CAAE9D,OAAQsR,EAAOjS,UAE9CyE,GEKPyD,SGX2B,WAAwB,IAAvBzD,EAAuBiC,UAAAyF,OAAA,QAAAV,IAAA/E,UAAA,GAAAA,UAAA,GAAf,GAAIuL,EAAWvL,UAAAyF,OAAA,EAAAzF,UAAA,QAAA+E,EACnD,GAAoB,2BAAhBwG,EAAOlS,KAAmC,KAAAmS,EACbD,EAAOjS,QAA5B8H,EADkCoK,EAClCpK,QAASvH,EADyB2R,EACzB3R,QACXuC,EAAQ2B,EAAM2N,QAAQtK,GACtB+K,EAAatN,OAAO+M,OAAO,GAAIxK,EAAS,CAAEvH,YAEhD,OADAkE,EAAM3B,GAAS+P,EACRtN,OAAO+M,OAAO,GAAI7N,GAExB,GAAoB,0BAAhBwN,EAAOlS,KAAkC,KACtC+H,EAAYmK,EAAOjS,QAAnB8H,QACR,GAAGA,EAAQxH,QACP,OAAOmE,EAEX,IAAMqO,EAAmBrO,EAAM2D,KAAK,SAAA4D,GAAC,OAAIA,EAAE1L,UACrCyS,EAAwBtO,EAAM2N,QAAQU,GAC5CrO,EAAMsO,GAAyBxN,OAAO+M,OAAO,GAAIQ,EAAkB,CAACxS,SAAS,IAE7E,IAAMwC,EAAQ2B,EAAM2N,QAAQtK,GAE5B,OADArD,EAAM3B,GAASyC,OAAO+M,OAAO,GAAIxK,EAAS,CAACxH,SAAS,IAC7CiF,OAAO+M,OAAO,GAAI7N,GAExB,MAAoB,iBAAhBwN,EAAOlS,KACLwF,OAAO+M,OAAO,GDCjB,CACR,CAAEpO,IAAK,sDAAuD5D,SAAS,EAAMD,MAAO,iBAAkBE,QAAS,GAC/G,CAAE2D,IAAK,sDAAuD5D,SAAS,EAAOD,MAAO,YAAaE,QAAS,GAC3G,CAAE2D,IAAK,yDAA0D5D,SAAS,EAAOD,MAAO,yBAA0BE,QAAS,GAC3H,CAAE2D,IAAK,2DAA4D5D,SAAS,EAAOD,MAAO,aAAcE,QAAS,GACjH,CAAE2D,IAAK,iDAAkD5D,SAAS,EAAOD,MAAO,eAAgBE,QAAS,GACzG,CAAE2D,IAAK,sDAAuD5D,SAAS,EAAOD,MAAO,oBAAqBE,QAAS,GACnH,CAAE2D,IAAK,iFAAkF5D,SAAS,EAAOD,MAAO,iBAAkBE,QAAS,GAC3I,CAAE2D,IAAK,gFAAiF5D,SAAS,EAAOD,MAAO,eAAgBE,QAAS,KCPjIkE,GHZP4M,YDT+B,WAAiC,IAAhC5M,EAAgCiC,UAAAyF,OAAA,QAAAV,IAAA/E,UAAA,GAAAA,UAAA,GAAxBoL,GAAaG,EAAWvL,UAAAyF,OAAA,EAAAzF,UAAA,QAAA+E,EAChE,MAAmB,4BAAhBwG,EAAOlS,KACCwF,OAAO+M,OAAO,GAAI7N,EAAOwN,EAAOjS,SAEpCyE,KCOLA,GEf4B,CAKhCX,OAAQ,CACN,CACEzD,MAAS,cACT6D,IAAO,+CACP3D,QAAW,GACXR,KAAQ,YACRO,SAAW,EACXwD,OAAU,CACR,CACEb,UAAa,qBACb3C,SAAW,GAEb,CACE2C,UAAa,eACb3C,SAAW,MAKnB4H,SAAU,CACR,CAAEhE,IAAK,sDAAuD5D,SAAS,EAAMD,MAAO,iBAAkBE,QAAS,GAC/G,CAAE2D,IAAK,sDAAuD5D,SAAS,EAAOD,MAAO,YAAaE,QAAS,GAC3G,CAAE2D,IAAK,yDAA0D5D,SAAS,EAAOD,MAAO,yBAA0BE,QAAS,GAC3H,CAAE2D,IAAK,2DAA4D5D,SAAS,EAAOD,MAAO,aAAcE,QAAS,GACjH,CAAE2D,IAAK,iDAAkD5D,SAAS,EAAOD,MAAO,eAAgBE,QAAS,GACzG,CAAE2D,IAAK,sDAAuD5D,SAAS,EAAOD,MAAO,oBAAqBE,QAAS,GACnH,CAAE2D,IAAK,iFAAkF5D,SAAS,EAAOD,MAAO,iBAAkBE,QAAS,GAC3I,CAAE2D,IAAK,gFAAiF5D,SAAS,EAAOD,MAAO,eAAgBE,QAAS,KFhBtIyS,GxBhBmB,WACrB,IACI,IAAMC,EAAaC,aAAaC,QAAQ,SACxC,IAAKF,EACD,OAEJ,OAAOG,KAAKC,MAAMJ,GACpB,MAAOK,GACL,QwBQaC,GACjBP,IAAgBA,GAAalP,QAAUkP,GAAa9K,UACpD3C,OAAO+M,OAAO7N,GAAOuO,IAGzB,IAAMQ,GAAQC,aAAY1B,GAAUtN,GAChCwB,OAAOyN,mBAAqBzN,OAAOyN,qBAEvCF,GAAM3H,UAAU,WACZ,IAAIpH,EAAQ+O,GAAMG,YxBbG,SAAClP,GACtB,IACImP,aAAajU,GACbA,EAAYkU,WAAW,WACnB,IAAMZ,EAAaG,KAAKU,UAAUrP,GAClCyO,aAAaa,QAAQ,QAASd,IAC/B,KACL,MAAOK,KwBOTU,CAAU,CAAElQ,OAAQW,EAAMX,OAAQoE,SAAUzD,EAAMyD,SAAUmJ,YAAa5M,EAAM4M,gBIlBnF,IAAMnI,GAAQ+K,0BAAe,CACzBC,WAAY,CACRC,iBAAiB,KAGzBC,IAASC,OAAOvT,EAAAC,EAAAC,cAACsT,EAAA,EAAD,CAAUd,MAAOA,IAC7B1S,EAAAC,EAAAC,cAACuT,GAAA,iBAAD,CAAkBrL,MAAOA,IACrBpI,EAAAC,EAAAC,cAAC4Q,GAAD,QAEK4C,SAASC,eAAe","file":"static/js/main.11ed19bc.chunk.js","sourcesContent":["export const loadState = () => {\r\n    try {\r\n        const serialized = localStorage.getItem('state')\r\n        if (!serialized) {\r\n            return undefined\r\n        }\r\n        return JSON.parse(serialized)\r\n    } catch (error) {\r\n        return undefined\r\n    }\r\n}\r\nlet timeoutID\r\nexport const saveState = (state) => {\r\n    try {\r\n        clearTimeout(timeoutID)\r\n        timeoutID = setTimeout(() => {\r\n            const serialized = JSON.stringify(state)\r\n            localStorage.setItem('state', serialized)\r\n        }, 1000)\r\n    } catch (error) {\r\n\r\n    }\r\n}","export const changeNestedLayerProperty = (layer, nestedLayer, property) => {\r\n    return {\r\n        type: 'CHANGE_NESTED_LAYER_PROPERTY',\r\n        payload: {\r\n            layer, nestedLayer, property\r\n        }\r\n    }\r\n}\r\nexport const changeLayerProperty = (layer, property) => {\r\n    return {\r\n        type: 'CHANGE_LAYER_PROPERTY',\r\n        payload: {\r\n            layer, property\r\n        }\r\n    }\r\n}\r\nexport const addNewLayer = ({ title, url, layers, visible = true, opacity = 1 }) => {\r\n    return {\r\n        type: 'ADD_NEW_LAYER',\r\n        payload: {\r\n            title,\r\n            url,\r\n            layers,\r\n            visible,\r\n            opacity\r\n        }\r\n    }\r\n}\r\nexport const deleteLayer = (layer) => {\r\n    return {\r\n        type: 'DELETE_LAYER',\r\n        payload: layer\r\n    }\r\n}\r\nexport const resetLayers = () => {\r\n    return {\r\n        type: 'RESET_LAYERS'\r\n    }\r\n}","import React, { Component } from 'react';\r\n// import CheckboxComponent from '../CheckboxComponent'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch'\r\nimport Slider from '@material-ui/lab/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\n\r\nclass LayerManagerComponent extends Component {\r\n    render() {\r\n        const { title, visible, opacity, onVisibleChanged, onOpacityChanged, children, isEdit, onEditLayer, onDeleteLayer } = this.props\r\n\r\n        return (\r\n            <div className={`layer ${isEdit ? 'edit' : ''}`}>\r\n\r\n\r\n                <div className=\"layer-main-container\">\r\n                    <div className=\"left\">\r\n                        <IconButton onClick={onEditLayer} color=\"primary\">\r\n                            <EditIcon fontSize=\"small\"/>\r\n                        </IconButton>\r\n                        <IconButton onClick={onDeleteLayer} color=\"secondary\">\r\n                            <ClearIcon fontSize=\"small\"/>\r\n                        </IconButton>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <FormControlLabel\r\n                            labelPlacement=\"start\"\r\n                            control={\r\n                                <Switch color=\"primary\" checked={visible} onChange={(e, v) => onVisibleChanged(v)} />\r\n                            }\r\n                            label={title}\r\n                        />\r\n                        <Slider style={{ padding: '0.8rem 0', margin: '.4rem' }} onChange={(_, e) => onOpacityChanged(e)}\r\n                            value={opacity}\r\n                            min={0} max={1} step={0.1}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"nested-layers\">\r\n                <FormGroup>\r\n                    {\r\n                        children.map((ll, index) => {\r\n                            // return <CheckboxComponent\r\n                            //     onChange={ll.onToggled}\r\n                            //     checked={ll.visible}\r\n                            //     key={ll.key + index}\r\n                            //     size=\"small\"\r\n                            // >\r\n                            //     {ll.layerName}\r\n                            // </CheckboxComponent>\r\n                            return <FormControlLabel\r\n                            key={ll.key + index}\r\n                                labelPlacement=\"start\"\r\n                                control={\r\n                                    <Switch checked={ll.visible} onChange={(e, v) => ll.onToggled(v)} />\r\n                                }\r\n                                label={ll.layerName}\r\n                            />\r\n                        })\r\n                    }\r\n                    </FormGroup>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// LayerManagerComponent.defaultProps = {\r\n//     isEdit: ''\r\n// }\r\nLayerManagerComponent.propTypes = {\r\n    isEdit: PropTypes.bool,\r\n    onEditLayer: PropTypes.func,\r\n    onDeleteLayer: PropTypes.func\r\n}\r\nexport {LayerManagerComponent};","import { Subject } from 'rxjs'\r\n\r\n\r\nexport const setMapPositionSubject = new Subject()\r\n\r\nexport const layerEditModalOpenSubject = new Subject()\r\n\r\nexport const layerAddModalOpenSubject = new Subject()\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { changeLayerProperty, changeNestedLayerProperty, deleteLayer } from '../redux/actions/action-layers'\r\nimport { LayerManagerComponent} from '../components/LayerManagerComponent'\r\nimport { layerEditModalOpenSubject } from '../rxjs/subjects';\r\nclass _LayerManagerContainer extends Component {\r\n\r\n    onLayerChange(layer, property) {\r\n        this.props.chanelayerpropery(layer, property)\r\n    }\r\n    onANestedLayerChange(layer, nestedLayer, property) {\r\n        this.props.chaneanestedlayerpropery(layer, nestedLayer, property)\r\n    }\r\n    onEditLayer(layer){\r\n        layerEditModalOpenSubject.next(layer)\r\n    }\r\n    onDeleteLayer(layer){\r\n        const { deletelayer } = this.props\r\n        deletelayer(layer)\r\n    }\r\n    render() {\r\n        const { layers, config} = this.props\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    layers.map((layer, index) => {\r\n\r\n                        return <LayerManagerComponent\r\n                            key={layer.url + index}\r\n                            onVisibleChanged={() => this.onLayerChange(layer, { visible: !layer.visible })}\r\n                            onOpacityChanged={(val) => this.onLayerChange(layer, { opacity: val })}\r\n                            opacity={layer.opacity}\r\n                            visible={layer.visible}\r\n                            url={layer.url}\r\n                            title={layer.title}\r\n                            isEdit={config.isEdit}\r\n                            onEditLayer={() => this.onEditLayer(layer)}\r\n                            onDeleteLayer={() => this.onDeleteLayer(layer)}\r\n                        >\r\n                            {layer.layers.map((nestedLayer, j) => {\r\n                                return {\r\n                                    key: nestedLayer.layerName + j,\r\n                                    visible: nestedLayer.visible,\r\n                                    layerName: nestedLayer.layerName,\r\n                                    onToggled: () => this.onANestedLayerChange(layer, nestedLayer, { visible: !nestedLayer.visible })\r\n                                }\r\n                            })}\r\n                        </LayerManagerComponent>\r\n                    })\r\n                }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    layers: state.layers,\r\n    config: state.config,\r\n})\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    chanelayerpropery: (layer, property) => dispatch(changeLayerProperty(layer, property)),\r\n    chaneanestedlayerpropery: (layer, nestedLayer, property) => dispatch(changeNestedLayerProperty(layer, nestedLayer, property)),\r\n    deletelayer: (layer) => dispatch(deleteLayer(layer))\r\n})\r\nconst LayerManagerContainer = connect(mapStateToProps, mapDispatchToProps)(_LayerManagerContainer);\r\nexport { LayerManagerContainer }","import React, { Component } from 'react'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RefreshIcon from '@material-ui/icons/Refresh'\r\nclass LayerEditComponent extends Component {\r\n    render() {\r\n        const { isEditMode, onEditModeChange, onLayerAddClicked, onReset } = this.props\r\n        return (\r\n            <div>\r\n\r\n                {isEditMode ?\r\n                    (<React.Fragment>\r\n                        <Tooltip title=\"Add\" onClick={onLayerAddClicked}>\r\n                            <IconButton color=\"primary\">\r\n                                <AddIcon fontSize=\"small\"/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Reset\" onClick={onReset}>\r\n                            <IconButton color=\"primary\">\r\n                                <RefreshIcon fontSize=\"small\"/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </React.Fragment>)\r\n                    : null\r\n                }\r\n                <IconButton aria-label=\"Edit\" onClick={onEditModeChange} color={isEditMode ? 'secondary': 'inherit'} >\r\n                    {isEditMode ?\r\n                        <ClearIcon fontSize=\"small\" />\r\n                        :\r\n                        <EditIcon fontSize=\"small\" />\r\n                    }\r\n                </IconButton>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport { LayerEditComponent }","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { LayerEditComponent } from '../components/LayerEditComponent'\r\nimport { setEditMode } from '../redux/actions/action-config'\r\nimport { resetLayers } from '../redux/actions/action-layers'\r\nimport { layerAddModalOpenSubject } from '../rxjs/subjects';\r\n\r\nclass _EditContainer extends Component {\r\n    constructor() {\r\n        super()\r\n        this.layerAddContainerRef = React.createRef()\r\n        this.onLayerAddClicked = this.onLayerAddClicked.bind(this)\r\n        this.onReset = this.onReset.bind(this)\r\n    }\r\n    onReset() {\r\n        if (window.confirm('your store will be deleted ?')) {\r\n            const { resetlayers } = this.props\r\n            resetlayers()\r\n        }\r\n    }\r\n    onLayerAddClicked() {\r\n        layerAddModalOpenSubject.next()\r\n    }\r\n    render() {\r\n        const { config, oneditmodechange } = this.props\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <LayerEditComponent\r\n                    onEditModeChange={() => oneditmodechange(!config.isEdit)}\r\n                    isEditMode={config.isEdit}\r\n                    onLayerAddClicked={this.onLayerAddClicked}\r\n                    onReset={this.onReset}\r\n                />\r\n                \r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    oneditmodechange: (val) => dispatch(setEditMode(val)),\r\n    resetlayers: (val) => dispatch(resetLayers(val)),\r\n})\r\nconst mapStateToProps = (state) => ({\r\n    config: state.config,\r\n    layers: state.layers,\r\n})\r\nconst EditContainer = connect(mapStateToProps, mapDispatchToProps)(_EditContainer)\r\nexport { EditContainer }","\r\n\r\nexport const setEditMode = (isEdit) => {\r\n    return {\r\n        type: 'EDIT_MODE_CHANGED',\r\n        payload: isEdit\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport './style.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport MapIcon from '@material-ui/icons/Map'\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Slider from '@material-ui/lab/Slider'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem'\r\n\r\nexport class BasemapComponent extends Component {\r\n    render() {\r\n        const { opacity, onOpacityChange, children } = this.props\r\n        return (\r\n            <div className=\"basemap-component\">\r\n                <div className=\"basemap-visible-manager\">\r\n                    <Button variant=\"fab\" color=\"primary\" mini>\r\n                        <MapIcon />\r\n                    </Button>\r\n                </div>\r\n                <div className=\"basemap-content\">\r\n                    <Card>\r\n                        <CardContent style={{ padding: '8px' }}>\r\n                            <List>\r\n                                {children}\r\n                            </List>\r\n                        </CardContent>\r\n                        <div style={{ padding: '8px' }}>\r\n                            <Slider style={{ padding: '0.8rem 0' }} onChange={onOpacityChange}\r\n                                value={opacity}\r\n                                min={0} max={1} step={0.1}\r\n                            />\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport class BasemapItemComponent extends Component {\r\n    render() {\r\n        const { visible, onClick, children } = this.props\r\n\r\n        return (\r\n            <ListItem style={{ padding: '8px', whiteSpace: 'nowrap' }} button selected={visible} onClick={onClick}>\r\n                {children}\r\n            </ListItem>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { BasemapComponent, BasemapItemComponent } from '../components/BasemapComponent';\r\nimport { connect } from 'react-redux'\r\nimport { changeBasemapOpacity, changeActiveBasemap } from '../redux/actions/action-basemaps'\r\nclass _BasemapContainer extends Component {\r\n    constructor() {\r\n        super()\r\n        this.onBasemapChange = this.onBasemapChange.bind(this)\r\n        this.onOpacityChange = this.onOpacityChange.bind(this)\r\n    }\r\n    onBasemapChange(basemap) {\r\n\r\n        this.props.changeactivebasemap(basemap)\r\n    }\r\n    onOpacityChange(basemap, opacity) {\r\n        this.props.changebasemapopacity(basemap, opacity)\r\n    }\r\n    render() {\r\n        const { basemaps } = this.props\r\n        const activeBasemap = basemaps.find(b => b.visible)\r\n        const basemapItems = basemaps.map((basemap, index) => {\r\n            return <BasemapItemComponent\r\n                key={index}\r\n                onClick={() => this.onBasemapChange(basemap)}\r\n                visible={basemap.visible}\r\n            >\r\n                {basemap.title}\r\n            </BasemapItemComponent>\r\n        })\r\n        return (\r\n            <BasemapComponent\r\n                opacity={activeBasemap.opacity}\r\n                onOpacityChange={(e, val) => this.onOpacityChange(activeBasemap, val)}>\r\n                {basemapItems}\r\n            </BasemapComponent>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    basemaps: state.basemaps\r\n})\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    changebasemapopacity: (basemap, opacity) => dispatch(changeBasemapOpacity(basemap, opacity)),\r\n    changeactivebasemap: (basemap) => dispatch(changeActiveBasemap(basemap)),\r\n})\r\n\r\nconst BasemapContainer = connect(mapStateToProps, mapDispatchToProps)(_BasemapContainer)\r\nexport { BasemapContainer }","export const changeBasemapOpacity = (basemap, opacity) => {\r\n    return {\r\n        type: 'CHANGE_BASEMAP_OPACITY',\r\n        payload: {\r\n            basemap, opacity\r\n        }\r\n    }\r\n}\r\nexport const changeActiveBasemap = (basemap) => {\r\n    return {\r\n        type: 'CHANGE_ACTIVE_BASEMAP',\r\n        payload: {\r\n            basemap\r\n        }\r\n    }\r\n}","import React, { Component } from 'react'\r\n\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport Button from '@material-ui/core/Button'\r\nimport Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass _MapSettingsComponent extends Component {\r\n  render() {\r\n    const { classes, onMapPositionSet } = this.props\r\n    return (\r\n      <div className=\"map-settings-component\">\r\n        <div className=\"map-settings-visible-manager\">\r\n          <Button variant=\"fab\" color=\"primary\" mini>\r\n            <SettingsIcon fontSize=\"small\" />\r\n          </Button>\r\n        </div>\r\n        <div className=\"map-settings-content\">\r\n          <Card>\r\n            <CardContent>\r\n              <Button onClick={onMapPositionSet} className={classes.button} variant=\"contained\" color=\"primary\">Set current map position to default</Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst styles = theme => ({\r\n  button: {\r\n    display: 'block',\r\n    // fontSize: '.5rem'\r\n  }\r\n})\r\nconst MapSettingsComponent = withStyles(styles)(_MapSettingsComponent)\r\nexport { MapSettingsComponent }\r\n","import React, { Component } from 'react'\r\nimport { MapSettingsComponent } from '../components/MapSettingsComponent';\r\nimport { connect } from 'react-redux'\r\nimport { setMapPositionSubject } from '../rxjs/subjects'\r\nclass _MapSettingsContainer extends Component {\r\n  constructor(){\r\n    super()\r\n    this.onMapPositionSet = this.onMapPositionSet.bind(this)\r\n  }\r\n  onMapPositionSet(){\r\n    setMapPositionSubject.next()\r\n  }\r\n  render() {\r\n    return (\r\n        <MapSettingsComponent onMapPositionSet={this.onMapPositionSet}/>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n})\r\n\r\nconst MapSettingsContainer = connect(mapStateToProps)(_MapSettingsContainer)\r\nexport { MapSettingsContainer }\r\n","import React, { Component, Fragment } from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\nclass _LayerModifyComponent extends Component {\r\n    render() {\r\n        const {\r\n            modalTitle,\r\n            layerTitle,\r\n            onLayerTitleChange,\r\n            bottomComponent,\r\n            url,\r\n            onUrlChange,\r\n            onClose,\r\n            open,\r\n            onNestedLayersTextChange,\r\n            nestedLayersText,\r\n            layersArray,\r\n        } = this.props\r\n        const _bottomContent = bottomComponent.map((btn, index) => (\r\n            <Button key={index} color=\"primary\" onClick={btn.onClick}>\r\n                {btn.text}\r\n            </Button>\r\n        ))\r\n        return (\r\n            <Dialog\r\n                open={open}\r\n                onClose={onClose}\r\n                scroll='body'\r\n            >\r\n                <DialogTitle>{modalTitle}</DialogTitle>\r\n                <DialogContent>\r\n                    <TextField\r\n                        label=\"URL\"\r\n                        style={{ margin: 8 }}\r\n                        placeholder=\"http://localhost:8080/geoserver/datas/wms\"\r\n                        helperText=\"Geoserver wms url\"\r\n                        fullWidth\r\n                        margin=\"normal\"\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={url}\r\n                        onChange={onUrlChange}\r\n                    />\r\n                    <TextField\r\n                        label=\"Name\"\r\n                        style={{ margin: 8 }}\r\n                        placeholder=\"My Workspace\"\r\n                        fullWidth\r\n                        helperText=\"Workspace Name\"\r\n                        margin=\"normal\"\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={layerTitle}\r\n                        onChange={onLayerTitleChange}\r\n                    />\r\n                    <TextField\r\n                        label=\"NestedLayers\"\r\n                        placeholder=\"myworkspace:pois, myworkspace:lines, myworkspace:polygons\"\r\n                        multiline\r\n                        fullWidth\r\n                        style={{ margin: 8 }}\r\n                        margin=\"normal\"\r\n                        value={nestedLayersText}\r\n                        onChange={onNestedLayersTextChange}\r\n                    />\r\n                    <List style={{ margin: 8, maxHeight: 360, overflowY: 'auto' }} dense={true}>\r\n                        {layersArray.map((item, index) => (\r\n                            <Fragment key={index}>\r\n                                <ListItem key={index}>\r\n                                    <ListItemText\r\n                                        key={index}\r\n                                        primary={item}\r\n                                    />\r\n                                </ListItem>\r\n                                <Divider />\r\n                            </Fragment>\r\n                        ))}\r\n                    </List>\r\n                    <DialogActions>\r\n                        {_bottomContent}\r\n                        <Button color=\"secondary\" onClick={onClose}>\r\n                            CLOSE\r\n                        </Button>\r\n                    </DialogActions>\r\n                </DialogContent>\r\n            </Dialog>\r\n        )\r\n    }\r\n}\r\n\r\nconst LayerModifyComponent = _LayerModifyComponent\r\nexport { LayerModifyComponent }","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeLayerProperty, addNewLayer } from '../redux/actions/action-layers'\r\nimport { layerEditModalOpenSubject, layerAddModalOpenSubject } from '../rxjs/subjects';\r\nimport { LayerModifyComponent } from '../components/LayerModifyComponent';\r\n\r\nclass _LayerModifyContainer extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = { open: false, url: undefined, title: undefined, layersArray: [], layersString: '' }\r\n        this.onClose = this.onClose.bind(this)\r\n        this.editLayerModalOpen = this.editLayerModalOpen.bind(this)\r\n        this.addLayerModalOpen = this.addLayerModalOpen.bind(this)\r\n        layerEditModalOpenSubject.subscribe(this.editLayerModalOpen)\r\n        layerAddModalOpenSubject.subscribe(this.addLayerModalOpen)\r\n    }\r\n\r\n    convertStringToListLayers(str) {\r\n        return str.split(',').map(l => l.trim()).filter(l => l.length > 0)\r\n    }\r\n    convertLayersArrayToString(arr) {\r\n        return arr.map(l => (l.layerName)).join(', ')\r\n    }\r\n    reset() {\r\n        this._layer = undefined\r\n        this.setState({ url: undefined, title: undefined, layersArray: [], layersString: '' })\r\n    }\r\n\r\n    editLayerModalOpen(layer) {\r\n        this._layer = layer\r\n        this.setState({\r\n            open: true,\r\n            url: layer.url,\r\n            title: layer.title,\r\n            layersArray: layer.layers.map(l => (l.layerName)),\r\n            layersString: this.convertLayersArrayToString(layer.layers)\r\n        })\r\n\r\n        const updateLayer = () => {\r\n            const { chanelayerpropery } = this.props\r\n            const { url, title, layersArray } = this.state\r\n            let doesSomethingChanged = false\r\n            let properyObject = {}\r\n            if (this._layer.url !== url) {\r\n                doesSomethingChanged = true\r\n                properyObject.url = url\r\n            }\r\n            if (this._layer.title !== title) {\r\n                doesSomethingChanged = true\r\n                properyObject.title = title\r\n            }\r\n            if (this._layer.layers.length !== layersArray.length ||\r\n                this._layer.layers.map(l => l.layerName.trim()).join(',') !== layersArray.join(',')) {\r\n\r\n                doesSomethingChanged = true\r\n                properyObject.layers = layersArray.map(l => ({ layerName: l, visible: true }))\r\n            }\r\n            if (doesSomethingChanged) {\r\n                chanelayerpropery(this._layer, properyObject)\r\n                this.onClose()\r\n            }\r\n        }\r\n        this._bottomContent = [{ text: 'Update Layer', onClick: updateLayer }]\r\n        this._title = 'Update Layer'\r\n    }\r\n    addLayerModalOpen() {\r\n        this._layer = undefined\r\n        const defaultUrl = 'http://localhost:8080/geoserver/pois/wms'\r\n        const defaultTitle = 'Pois'\r\n        const defaultLayers = 'poi:istanbul, poi:edirne'\r\n        const defaultListLayers = defaultLayers.split(',').map(t => t.trim())\r\n\r\n        this.setState({\r\n            open: true,\r\n            url: defaultUrl,\r\n            title: defaultTitle,\r\n            layersArray: defaultListLayers,\r\n            layersString: 'poi:istanbul, poi:edirne'\r\n        })\r\n        const onAddLayer = () => {\r\n            const { addnewlayer } = this.props\r\n            const { url, title, layersArray } = this.state\r\n            const layers = layersArray.map(l => ({ layerName: l, visible: true }))\r\n            addnewlayer({ url, title, layers })\r\n        }\r\n        const onAddLayerReset = () => {\r\n            this.setState({\r\n                title: '',\r\n                url: '',\r\n                layersString: '',\r\n                layersArray: []\r\n    \r\n            })\r\n        }\r\n        this._bottomContent = [\r\n            { text: 'Add Layer', onClick: onAddLayer },\r\n            { text: 'Clear Inputs', onClick: onAddLayerReset },\r\n    ]\r\n        this._title = 'Add Layer'\r\n    }\r\n    onClose() {\r\n        this.reset()\r\n        this.setState({ open: false })\r\n    }\r\n    onChange(key, val) {\r\n        this.setState({ [key]: val })\r\n    }\r\n    onLayerTextChange(layersString) {\r\n        this.setState({\r\n            layersArray: this.convertStringToListLayers(layersString),\r\n            layersString: layersString\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { open, url, title, layersString, layersArray } = this.state\r\n        if (!open)\r\n            return null\r\n\r\n        return (\r\n            <LayerModifyComponent\r\n                open={open}\r\n                modalTitle={this._title}\r\n                url={url}\r\n                onUrlChange={(elem) => this.onChange('url', elem.target.value)}\r\n                layerTitle={title}\r\n                onLayerTitleChange={(elem) => this.onChange('title', elem.target.value)}\r\n                bottomComponent={this._bottomContent}\r\n                layersArray={layersArray}\r\n                onClose={this.onClose}\r\n                nestedLayersText={layersString}\r\n                onNestedLayersTextChange={(elem) => this.onLayerTextChange(elem.target.value)}\r\n            />\r\n        )\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    chanelayerpropery: (layer, property) => dispatch(changeLayerProperty(layer, property)),\r\n    addnewlayer: (layer) => dispatch(addNewLayer(layer)),\r\n})\r\nconst LayerModifyContainer = connect(undefined, mapDispatchToProps)(_LayerModifyContainer)\r\nexport { LayerModifyContainer }","import React from 'react';\r\nimport { LayerManagerContainer } from '../../containers/LayerManagerContainer'\r\nimport './style.css'\r\nimport { EditContainer } from '../../containers/EditContainer';\r\nimport { BasemapContainer } from '../../containers/BasemapContainer';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { MapSettingsContainer } from '../../containers/MapSettingsContainer';\r\nimport { LayerModifyContainer } from '../../containers/LayerModifyContainer';\r\n\r\nimport LayersIcon from '@material-ui/icons/Layers'\r\nimport Button from '@material-ui/core/Button'\r\nexport const UiComponent = (props) => {\r\n    return (\r\n        <div className={`ui-component-context ${props.isEdit ? 'edit' : ''}`}>\r\n            <div className=\"top-right-area\">\r\n                <Button className=\"top-right-visible-manager\" variant=\"fab\" color=\"primary\" mini>\r\n                    <LayersIcon fontSize=\"small\" />\r\n                </Button>\r\n                <Card className=\"top-right-card\">\r\n                    <CardContent>\r\n                        <div className=\"edit-manager\">\r\n                            <EditContainer />\r\n                        </div>\r\n                        <div className=\"layer-manager\">\r\n                            <LayerManagerContainer />\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n            <div className=\"bottom-right-area\">\r\n                <MapSettingsContainer />\r\n                <BasemapContainer />\r\n            </div>\r\n            <div className=\"modals\">\r\n                <LayerModifyContainer />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from 'react';\r\nimport olMap from 'ol/Map'\r\nimport olView from 'ol/View'\r\nconst MapContext = React.createContext({\r\n    map: null\r\n})\r\nclass MapContainer extends Component {\r\n    _mapReference = React.createRef()\r\n    componentWillMount() {\r\n        const { zoom, center } = this.props\r\n        this._map = new olMap({\r\n            view: new olView({\r\n                zoom: zoom || 8,\r\n                center: center || [3200000, 5000000]\r\n            }),\r\n            controls: [],\r\n            layers: []\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this._map.setTarget(this._mapReference.current)\r\n    }\r\n    render() {\r\n        const { children } = this.props\r\n        return (\r\n            <div style={{ width: '100%', height: '100%', }} ref={this._mapReference}>\r\n                <MapContext.Provider value={{ map: this._map }}>\r\n                    {children}\r\n                </MapContext.Provider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport { MapContainer, MapContext };","import React, { Component } from 'react';\r\n\r\nimport Image from 'ol/layer/Image'\r\nimport ImageWms from 'ol/source/ImageWMS'\r\n\r\nimport { MapContext } from './MapContext'\r\nclass WmsLayer extends Component {\r\n    getLayerParamsOfSource(layers) {\r\n        return layers.filter(ll => ll.visible === true).map(ll => ll.layerName).join(',')\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        const { visible, opacity, layers, url } = this.props\r\n\r\n        if (nextProps.visible !== visible) {\r\n            this._imageLayer.setVisible(nextProps.visible)\r\n        }\r\n        if (nextProps.opacity !== opacity) {\r\n            this._imageLayer.setOpacity(nextProps.opacity)\r\n        }\r\n        if (nextProps.url !== url) {\r\n            this._imageLayer.getSource().setUrl(nextProps.url)\r\n        }\r\n        if (nextProps.layers !== layers) {\r\n            this._imageLayer.getSource().updateParams({ LAYERS: this.getLayerParamsOfSource(nextProps.layers) })\r\n        }\r\n\r\n        return false\r\n    }\r\n    componentDidMount() {\r\n        const { url, opacity, visible, layers } = this.props\r\n        if (url && layers) {\r\n            this._imageLayer = new Image({\r\n                source: new ImageWms({\r\n                    url: url,\r\n                    params: { LAYERS: this.getLayerParamsOfSource(layers) },\r\n                    serverType: 'geoserver'\r\n                }),\r\n                opacity: opacity || 1,\r\n                visible: visible\r\n            })\r\n            this._map.addLayer(this._imageLayer)\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this._map.removeLayer(this._imageLayer)\r\n    }\r\n    render() {\r\n        return (<MapContext.Consumer>\r\n            {\r\n                (mapcontext) => {\r\n                    this._map = mapcontext.map\r\n                    return null\r\n                }\r\n            }\r\n        </MapContext.Consumer>)\r\n    }\r\n}\r\nexport { WmsLayer }","import React, { Component } from 'react'\r\nimport olTileLayer from 'ol/layer/Tile';\r\nimport olTileImage from 'ol/source/TileImage';\r\nimport { MapContext } from './MapContext'\r\n\r\nexport class BaseMapLayer extends Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        const { url, opacity, visible } = this.props\r\n\r\n        if (nextProps.visible !== visible) {\r\n            this._basemapLayer.setVisible(nextProps.visible)\r\n        }\r\n        if (nextProps.opacity !== opacity) {\r\n            this._basemapLayer.setOpacity(nextProps.opacity)\r\n            \r\n            if(nextProps.opacity === 0){\r\n                this._basemapLayer.setVisible(false)\r\n            }\r\n            else if(nextProps.opacity > 0 && visible === true){\r\n                this._basemapLayer.setVisible(true)\r\n            } \r\n        }\r\n        if (nextProps.url !== url) {\r\n            this._basemapLayer.getSource().setUrl(nextProps.url)\r\n        }\r\n\r\n        return false\r\n    }\r\n    componentDidMount() {\r\n        const { url, opacity, visible } = this.props\r\n        if (!this._basemapLayer) {\r\n            this._basemapLayer = new olTileLayer({\r\n                zIndex: -1,\r\n                source: new olTileImage({ url }),\r\n                visible: visible,\r\n                opacity: opacity\r\n            })\r\n            this._map.addLayer(this._basemapLayer)\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if(this._map && this._basemapLayer){\r\n            this._map.removeLayer(this._basemapLayer)\r\n        }\r\n    }\r\n    render() {\r\n        return (<MapContext.Consumer>\r\n            {\r\n                (mapcontext) => {\r\n                    this._map = mapcontext.map\r\n                    return null\r\n                }\r\n            }\r\n        </MapContext.Consumer>)\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { MapContext } from './MapContext';\r\nimport { setMapPositionSubject } from '../rxjs/subjects' \r\nimport { connect } from 'react-redux'\r\n\r\nimport { setMapPosition } from '../redux/actions/action-mapsettings'\r\n\r\nclass _MapSettingsManager extends Component {\r\n    componentDidMount(){\r\n        this._mapPositionSubscription = setMapPositionSubject.subscribe(() => {\r\n            const view = this._map.getView()\r\n            const zoom = view.getZoom()\r\n            const center = view.getCenter()\r\n            this.props.setmapposition({zoom, center})\r\n        })\r\n    }\r\n    componentWillUnmount(){\r\n        if(this._mapPositionSubscription){\r\n            this._mapPositionSubscription.unsubscribe()\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <MapContext.Consumer>\r\n                {\r\n                    (mapcontext) => {\r\n                        this._map = mapcontext.map\r\n                        return null\r\n                    }\r\n                }\r\n            </MapContext.Consumer>\r\n        )\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setmapposition: (data) => dispatch(setMapPosition(data))\r\n})\r\n\r\nconst MapSettingsManager = connect(undefined, mapDispatchToProps)(_MapSettingsManager)\r\nexport { MapSettingsManager }","export const setMapPosition = ({zoom, center}) => ({\r\n    type: 'SET_MAP_DEFAULT_POSITON',\r\n    payload: {zoom, center}\r\n})","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { UiComponent } from './components/UiComponent'\r\nimport { MapContainer } from './contexts/MapContext'\r\nimport { WmsLayer } from './contexts/WmsLayer';\r\nimport { BaseMapLayer } from './contexts/BaseMapLayer';\r\nimport { MapSettingsManager } from './contexts/MapSettingsManager';\r\nclass _App extends Component {\r\n\r\n  render() {\r\n    const { layers, basemaps, config, mapSettings } = this.props\r\n    let wmsLayers = layers.map((layer, index) => {\r\n      return <WmsLayer\r\n        key={index}\r\n        url={layer.url}\r\n        layers={layer.layers}\r\n        visible={layer.visible}\r\n        opacity={layer.opacity}\r\n      />\r\n    })\r\n    const basemapLayers = basemaps.map((layer, index) => {\r\n      return <BaseMapLayer\r\n        key={index}\r\n        url={layer.url}\r\n        visible={layer.visible}\r\n        opacity={layer.opacity}\r\n        title={layer.title}\r\n      />\r\n    })\r\n    return (\r\n      <React.Fragment>\r\n        <MapContainer center={mapSettings.center} zoom={mapSettings.zoom}>\r\n          {wmsLayers}\r\n          {basemapLayers}\r\n          <MapSettingsManager />\r\n        </MapContainer>\r\n        <UiComponent isEdit={config.isEdit} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  layers: state.layers,\r\n  config: state.config,\r\n  basemaps: state.basemaps,\r\n  mapSettings: state.mapSettings,\r\n})\r\nconst App = connect(mapStateToProps)(_App);\r\nexport { App }\r\n","const initialState = {\r\n    isEdit: false,\r\n}\r\nexport const ConfigReducer = (state = initialState, action) => {\r\n    if (action.type === 'EDIT_MODE_CHANGED') {\r\n        return Object.assign({}, state, { isEdit: action.payload })\r\n    }\r\n    return state;\r\n}","const initialData = {\r\n    center: undefined,\r\n    zoom: undefined\r\n}\r\nexport const MapSettingsReducer =  (state = initialData, action) => {\r\n    if(action.type === 'SET_MAP_DEFAULT_POSITON'){\r\n        return Object.assign({}, state, action.payload)\r\n    }\r\n    return state\r\n}","import { createStore, combineReducers } from 'redux';\r\nimport {LayerReducer} from './reducers/reducer-layers'\r\nimport {ConfigReducer} from './reducers/reducer-config'\r\nimport {BasemapReducer} from './reducers/reducer-basemaps'\r\nimport {MapSettingsReducer} from './reducers/reducer-mapsettings'\r\n\r\nimport { initialData } from './config'\r\nimport { saveState, loadState } from './state-store-manager'\r\n\r\nconst combined = combineReducers({\r\n    layers: LayerReducer,\r\n    config: ConfigReducer,\r\n    basemaps: BasemapReducer,\r\n    mapSettings: MapSettingsReducer,\r\n})\r\nconst state = initialData()\r\nconst storedLayers = loadState()\r\nif (storedLayers && storedLayers.layers && storedLayers.basemaps) {\r\n    Object.assign(state, storedLayers)\r\n}\r\n\r\nconst store = createStore(combined, state,\r\n    window.devToolsExtension && window.devToolsExtension())\r\n\r\nstore.subscribe(() => {\r\n    let state = store.getState()\r\n    saveState({ layers: state.layers, basemaps: state.basemaps, mapSettings: state.mapSettings })\r\n})\r\nexport { store }\r\n\r\n","import {initialData} from '../config'\r\nexport const LayerReducer = (state = [], action) => {\r\n\r\n    if (action.type === 'CHANGE_LAYER_PROPERTY') {\r\n        const { layer, property } = action.payload\r\n        let i = state.indexOf(layer)\r\n        // TESTME for  Object.assign(layer, property)\r\n        let newLayer = Object.assign({}, layer, property)\r\n        state[i] = newLayer\r\n        return Object.assign([], state)\r\n    }\r\n    else if (action.type === 'CHANGE_NESTED_LAYER_PROPERTY') {\r\n\r\n        const { layer, nestedLayer, property } = action.payload\r\n        const layerIndex = state.indexOf(layer)\r\n        const nestedLayerIndex = layer.layers.indexOf(nestedLayer)\r\n        let newNestedLayer = Object.assign({}, nestedLayer, property)\r\n\r\n        layer.layers[nestedLayerIndex] = newNestedLayer\r\n        layer.layers = Object.assign([], layer.layers)\r\n        let newLayer = Object.assign({}, layer)\r\n        state[layerIndex] = newLayer\r\n        return Object.assign([], state)\r\n    }\r\n    else if (action.type === 'ADD_NEW_LAYER') {\r\n        state.push(action.payload)\r\n        return Object.assign([], state)\r\n    }\r\n    else if (action.type === 'DELETE_LAYER') {\r\n        let layer = action.payload\r\n        let index = state.indexOf(layer)\r\n        state.splice(index, 1)\r\n        return Object.assign([], state)\r\n    }\r\n    else if (action.type === 'RESET_LAYERS'){\r\n        return Object.assign([], initialData().layers)\r\n    }\r\n    return state\r\n}","export const initialData = () => ({\r\n  // \"lat\": 41.02,\r\n  // \"lng\": 28.86,\r\n  // \"zoom\": 8,\r\n  // \"basemapOpacity\": 0.5,\r\n  layers: [\r\n    {\r\n      \"title\": \"Test Server\",\r\n      \"url\": \"http://194.182.80.44:8080/geoserver/test/wms\",\r\n      \"opacity\": 0.9,\r\n      \"type\": \"geoserver\",\r\n      \"visible\": true,\r\n      \"layers\": [\r\n        {\r\n          \"layerName\": \"test:random_points\",\r\n          \"visible\": true\r\n        },\r\n        {\r\n          \"layerName\": \"test:bridges\",\r\n          \"visible\": true\r\n        },\r\n      ]\r\n    }\r\n  ],\r\n  basemaps: [\r\n    { url: 'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png', visible: true, title: 'Wikimedia Maps', opacity: 1 },\r\n    { url: 'http://tile.thunderforest.com/cycle/{z}/{x}/{y}.png', visible: false, title: 'OpenCycle', opacity: 1 },\r\n    { url: 'http://{a-b}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', visible: false, title: 'Humanitarian map style', opacity: 1 },\r\n    { url: 'http://{a-c}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', visible: false, title: 'OSM France', opacity: 1 },\r\n    { url: 'http://a.tile.stamen.com/toner/{z}/{x}/{y}.png', visible: false, title: 'Stamen Toner', opacity: 1 },\r\n    { url: 'http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg', visible: false, title: 'Stamen Watercolor', opacity: 1 },\r\n    { url: 'https://cartodb-basemaps-{1-3}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', visible: false, title: 'CartoDB Light ', opacity: 1 },\r\n    { url: 'https://cartodb-basemaps-{1-3}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', visible: false, title: 'CartoDB Dark', opacity: 1 },\r\n  ]\r\n})\r\n","import { initialData } from '../config'\r\nexport const BasemapReducer =  (state = [], action) => {\r\n    if (action.type === 'CHANGE_BASEMAP_OPACITY') {\r\n        const { basemap, opacity } = action.payload\r\n        const index = state.indexOf(basemap)\r\n        const newBasemap = Object.assign({}, basemap, { opacity })\r\n        state[index] = newBasemap\r\n        return Object.assign([], state)\r\n    }\r\n    else if (action.type === 'CHANGE_ACTIVE_BASEMAP') {\r\n        const { basemap } = action.payload\r\n        if(basemap.visible){\r\n            return state\r\n        }\r\n        const oldActiveBasemap = state.find(l => l.visible)\r\n        const oldActiveBasemapIndex = state.indexOf(oldActiveBasemap)\r\n        state[oldActiveBasemapIndex] = Object.assign({}, oldActiveBasemap, {visible: false})\r\n\r\n        const index = state.indexOf(basemap)\r\n        state[index] = Object.assign({}, basemap, {visible: true})\r\n        return Object.assign([], state)\r\n    }\r\n    else if (action.type === 'RESET_LAYERS') {\r\n        return Object.assign([], initialData().basemaps)\r\n    }\r\n    return state\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './App';\r\nimport 'typeface-roboto'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './redux/store'\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\r\n\r\nconst theme = createMuiTheme({\r\n    typography: {\r\n        useNextVariants: true,\r\n    },\r\n})\r\nReactDOM.render(<Provider store={store}>\r\n    <MuiThemeProvider theme={theme}>\r\n        <App />\r\n    </MuiThemeProvider>\r\n</Provider>, document.getElementById('root'));\r\n"],"sourceRoot":""}