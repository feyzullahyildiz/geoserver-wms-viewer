(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,a){e.exports=a(389)},302:function(e,t,a){},311:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),l=a(46),o=a.n(l),s=a(22),c=a(23),u=a(26),p=a(24),y=a(25),m=a(44),b=function(e,t){return{type:"CHANGE_LAYER_PROPERTY",payload:{layer:e,property:t}}},d=a(173),h=a.n(d),v=a(128),f=a.n(v),g=a(129),E=a.n(g),O=a(102),j=a.n(O),C=a(62),k=a.n(C),L=a(100),_=a.n(L),S=a(101),A=a.n(S),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.visible,n=e.opacity,r=e.onVisibleChanged,l=e.onOpacityChanged,o=e.children,s=e.isEdit,c=e.onEditLayer,u=e.onDeleteLayer;return i.a.createElement("div",{className:"layer ".concat(s?"edit":"")},i.a.createElement("div",{className:"layer-main-container"},i.a.createElement("div",{className:"left"},i.a.createElement(k.a,{onClick:c,color:"primary"},i.a.createElement(_.a,{fontSize:"small"})),i.a.createElement(k.a,{onClick:u,color:"secondary"},i.a.createElement(A.a,{fontSize:"small"}))),i.a.createElement("div",{className:"right"},i.a.createElement(f.a,{labelPlacement:"start",control:i.a.createElement(E.a,{color:"primary",checked:a,onChange:function(e,t){return r(t)}}),label:t}),i.a.createElement(j.a,{style:{padding:"0.8rem 0",margin:".4rem"},onChange:function(e,t){return l(t)},value:n,min:0,max:1,step:.1}))),i.a.createElement("div",{className:"nested-layers"},i.a.createElement(h.a,null,o.map(function(e,t){return i.a.createElement(f.a,{key:e.key+t,labelPlacement:"start",control:i.a.createElement(E.a,{checked:e.visible,onChange:function(t,a){return e.onToggled(a)}}),label:e.layerName})}))))}}]),t}(r.Component),T=a(391),x=new T.a,w=new T.a,M=new T.a,P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"onLayerChange",value:function(e,t){this.props.chanelayerpropery(e,t)}},{key:"onANestedLayerChange",value:function(e,t,a){this.props.chaneanestedlayerpropery(e,t,a)}},{key:"onEditLayer",value:function(e){w.next(e)}},{key:"onDeleteLayer",value:function(e){(0,this.props.deletelayer)(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.layers,n=t.config;return i.a.createElement(i.a.Fragment,null,a.map(function(t,a){return i.a.createElement(N,{key:t.url+a,onVisibleChanged:function(){return e.onLayerChange(t,{visible:!t.visible})},onOpacityChanged:function(a){return e.onLayerChange(t,{opacity:a})},opacity:t.opacity,visible:t.visible,url:t.url,title:t.title,isEdit:n.isEdit,onEditLayer:function(){return e.onEditLayer(t)},onDeleteLayer:function(){return e.onDeleteLayer(t)}},t.layers.map(function(a,n){return{key:a.layerName+n,visible:a.visible,layerName:a.layerName,onToggled:function(){return e.onANestedLayerChange(t,a,{visible:!a.visible})}}}))}))}}]),t}(r.Component),R=Object(m.b)(function(e){return{layers:e.layers,config:e.config}},function(e){return{chanelayerpropery:function(t,a){return e(b(t,a))},chaneanestedlayerpropery:function(t,a,n){return e(function(e,t,a){return{type:"CHANGE_NESTED_LAYER_PROPERTY",payload:{layer:e,nestedLayer:t,property:a}}}(t,a,n))},deletelayer:function(t){return e(function(e){return{type:"DELETE_LAYER",payload:e}}(t))}}})(P),z=(a(302),a(36)),D=a(130),Y=a.n(D),I=a(174),W=a.n(I),U=a(175),B=a.n(U),H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isEditMode,a=e.onEditModeChange,n=e.onLayerAddClicked,r=e.onReset;return i.a.createElement("div",null,t?i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,{title:"Add",onClick:n},i.a.createElement(k.a,{color:"primary"},i.a.createElement(W.a,{fontSize:"small"}))),i.a.createElement(Y.a,{title:"Reset",onClick:r},i.a.createElement(k.a,{color:"primary"},i.a.createElement(B.a,{fontSize:"small"})))):null,i.a.createElement(k.a,{"aria-label":"Edit",onClick:a,color:t?"secondary":"inherit"},t?i.a.createElement(A.a,{fontSize:"small"}):i.a.createElement(_.a,{fontSize:"small"})))}}]),t}(r.Component),G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).layerAddContainerRef=i.a.createRef(),e.onLayerAddClicked=e.onLayerAddClicked.bind(Object(z.a)(Object(z.a)(e))),e.onReset=e.onReset.bind(Object(z.a)(Object(z.a)(e))),e}return Object(y.a)(t,e),Object(c.a)(t,[{key:"onReset",value:function(){window.confirm("your store will be deleted ?")&&(0,this.props.resetlayers)()}},{key:"onLayerAddClicked",value:function(){M.next()}},{key:"render",value:function(){var e=this.props,t=e.config,a=e.oneditmodechange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(H,{onEditModeChange:function(){return a(!t.isEdit)},isEditMode:t.isEdit,onLayerAddClicked:this.onLayerAddClicked,onReset:this.onReset}))}}]),t}(r.Component),V=Object(m.b)(function(e){return{config:e.config,layers:e.layers}},function(e){return{oneditmodechange:function(t){return e({type:"EDIT_MODE_CHANGED",payload:t})},resetlayers:function(t){return e({type:"RESET_LAYERS"})}}})(G),F=(a(311),a(54)),J=a.n(F),Z=a(176),q=a.n(Z),K=a(75),Q=a.n(K),X=a(76),$=a.n(X),ee=a(86),te=a.n(ee),ae=a(103),ne=a.n(ae),re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.opacity,a=e.onOpacityChange,n=e.children;return i.a.createElement("div",{className:"basemap-component"},i.a.createElement("div",{className:"basemap-visible-manager"},i.a.createElement(J.a,{variant:"fab",color:"primary",mini:!0},i.a.createElement(q.a,null))),i.a.createElement("div",{className:"basemap-content"},i.a.createElement(Q.a,null,i.a.createElement($.a,{style:{padding:"8px"}},i.a.createElement(te.a,null,n)),i.a.createElement("div",{style:{padding:"8px"}},i.a.createElement(j.a,{style:{padding:"0.8rem 0"},onChange:a,value:t,min:0,max:1,step:.1})))))}}]),t}(r.Component),ie=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onClick,n=e.children;return i.a.createElement(ne.a,{style:{padding:"8px",whiteSpace:"nowrap"},button:!0,selected:t,onClick:a},n)}}]),t}(r.Component),le=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onBasemapChange=e.onBasemapChange.bind(Object(z.a)(Object(z.a)(e))),e.onOpacityChange=e.onOpacityChange.bind(Object(z.a)(Object(z.a)(e))),e}return Object(y.a)(t,e),Object(c.a)(t,[{key:"onBasemapChange",value:function(e){this.props.changeactivebasemap(e)}},{key:"onOpacityChange",value:function(e,t){this.props.changebasemapopacity(e,t)}},{key:"render",value:function(){var e=this,t=this.props.basemaps,a=t.find(function(e){return e.visible}),n=t.map(function(t,a){return i.a.createElement(ie,{key:a,onClick:function(){return e.onBasemapChange(t)},visible:t.visible},t.title)});return i.a.createElement(re,{opacity:a.opacity,onOpacityChange:function(t,n){return e.onOpacityChange(a,n)}},n)}}]),t}(r.Component),oe=Object(m.b)(function(e){return{basemaps:e.basemaps}},function(e){return{changebasemapopacity:function(t,a){return e(function(e,t){return{type:"CHANGE_BASEMAP_OPACITY",payload:{basemap:e,opacity:t}}}(t,a))},changeactivebasemap:function(t){return e(function(e){return{type:"CHANGE_ACTIVE_BASEMAP",payload:{basemap:e}}}(t))}}})(le),se=a(177),ce=a.n(se),ue=a(77),pe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onMapPositionSet;return i.a.createElement("div",{className:"map-settings-component"},i.a.createElement("div",{className:"map-settings-visible-manager"},i.a.createElement(J.a,{variant:"fab",color:"primary",mini:!0},i.a.createElement(ce.a,{fontSize:"small"}))),i.a.createElement("div",{className:"map-settings-content"},i.a.createElement(Q.a,null,i.a.createElement($.a,null,i.a.createElement(J.a,{onClick:a,className:t.button,variant:"contained",color:"primary"},"Set current map position to default")))))}}]),t}(r.Component),ye=Object(ue.withStyles)(function(e){return{button:{display:"block"}}})(pe),me=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onMapPositionSet=e.onMapPositionSet.bind(Object(z.a)(Object(z.a)(e))),e}return Object(y.a)(t,e),Object(c.a)(t,[{key:"onMapPositionSet",value:function(){x.next()}},{key:"render",value:function(){return i.a.createElement(ye,{onMapPositionSet:this.onMapPositionSet})}}]),t}(r.Component),be=Object(m.b)(function(e){return{}})(me),de=a(178),he=a(113),ve=a.n(he),fe=a(182),ge=a.n(fe),Ee=a(183),Oe=a.n(Ee),je=a(179),Ce=a.n(je),ke=a(184),Le=a.n(ke),_e=a(181),Se=a.n(_e),Ae=a(180),Ne=a.n(Ae),Te=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalTitle,a=e.layerTitle,n=e.onLayerTitleChange,l=e.bottomComponent,o=e.url,s=e.onUrlChange,c=e.onClose,u=e.open,p=e.onNestedLayersTextChange,y=e.nestedLayersText,m=e.layersArray,b=l.map(function(e,t){return i.a.createElement(J.a,{key:t,color:"primary",onClick:e.onClick},e.text)});return i.a.createElement(Ce.a,{open:u,onClose:c,scroll:"body"},i.a.createElement(Ne.a,null,t),i.a.createElement(Se.a,null,i.a.createElement(ve.a,{label:"URL",style:{margin:8},placeholder:"http://localhost:8080/geoserver/datas/wms",helperText:"Geoserver wms url",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:o,onChange:s}),i.a.createElement(ve.a,{label:"Name",style:{margin:8},placeholder:"My Workspace",fullWidth:!0,helperText:"Workspace Name",margin:"normal",InputLabelProps:{shrink:!0},value:a,onChange:n}),i.a.createElement(ve.a,{label:"NestedLayers",placeholder:"myworkspace:pois, myworkspace:lines, myworkspace:polygons",multiline:!0,fullWidth:!0,style:{margin:8},margin:"normal",value:y,onChange:p}),i.a.createElement(te.a,{style:{margin:8,maxHeight:360,overflowY:"auto"},dense:!0},m.map(function(e,t){return i.a.createElement(r.Fragment,{key:t},i.a.createElement(ne.a,{key:t},i.a.createElement(ge.a,{key:t,primary:e})),i.a.createElement(Oe.a,null))})),i.a.createElement(Le.a,null,b,i.a.createElement(J.a,{color:"secondary",onClick:c},"CLOSE"))))}}]),t}(r.Component),xe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).state={open:!1,url:void 0,title:void 0,layersArray:[],layersString:""},e.onClose=e.onClose.bind(Object(z.a)(Object(z.a)(e))),e.editLayerModalOpen=e.editLayerModalOpen.bind(Object(z.a)(Object(z.a)(e))),e.addLayerModalOpen=e.addLayerModalOpen.bind(Object(z.a)(Object(z.a)(e))),w.subscribe(e.editLayerModalOpen),M.subscribe(e.addLayerModalOpen),e}return Object(y.a)(t,e),Object(c.a)(t,[{key:"convertStringToListLayers",value:function(e){return e.split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0})}},{key:"convertLayersArrayToString",value:function(e){return e.map(function(e){return e.layerName}).join(", ")}},{key:"reset",value:function(){this._layer=void 0,this.setState({url:void 0,title:void 0,layersArray:[],layersString:""})}},{key:"editLayerModalOpen",value:function(e){var t=this;this._layer=e,this.setState({open:!0,url:e.url,title:e.title,layersArray:e.layers.map(function(e){return e.layerName}),layersString:this.convertLayersArrayToString(e.layers)});this._bottomContent=[{text:"Update Layer",onClick:function(){var e=t.props.chanelayerpropery,a=t.state,n=a.url,r=a.title,i=a.layersArray,l=!1,o={};t._layer.url!==n&&(l=!0,o.url=n),t._layer.title!==r&&(l=!0,o.title=r),t._layer.layers.length===i.length&&t._layer.layers.map(function(e){return e.layerName.trim()}).join(",")===i.join(",")||(l=!0,o.layers=i.map(function(e){return{layerName:e,visible:!0}})),l&&(e(t._layer,o),t.onClose())}}],this._title="Update Layer"}},{key:"addLayerModalOpen",value:function(){var e=this;this._layer=void 0;var t="poi:istanbul, poi:edirne".split(",").map(function(e){return e.trim()});this.setState({open:!0,url:"http://localhost:8080/geoserver/pois/wms",title:"Pois",layersArray:t,layersString:"poi:istanbul, poi:edirne"});this._bottomContent=[{text:"Add Layer",onClick:function(){var t=e.props.addnewlayer,a=e.state;t({url:a.url,title:a.title,layers:a.layersArray.map(function(e){return{layerName:e,visible:!0}})})}},{text:"Clear Inputs",onClick:function(){e.setState({title:"",url:"",layersString:"",layersArray:[]})}}],this._title="Add Layer"}},{key:"onClose",value:function(){this.reset(),this.setState({open:!1})}},{key:"onChange",value:function(e,t){this.setState(Object(de.a)({},e,t))}},{key:"onLayerTextChange",value:function(e){this.setState({layersArray:this.convertStringToListLayers(e),layersString:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.url,r=t.title,l=t.layersString,o=t.layersArray;return a?i.a.createElement(Te,{open:a,modalTitle:this._title,url:n,onUrlChange:function(t){return e.onChange("url",t.target.value)},layerTitle:r,onLayerTitleChange:function(t){return e.onChange("title",t.target.value)},bottomComponent:this._bottomContent,layersArray:o,onClose:this.onClose,nestedLayersText:l,onNestedLayersTextChange:function(t){return e.onLayerTextChange(t.target.value)}}):null}}]),t}(r.Component),we=Object(m.b)(void 0,function(e){return{chanelayerpropery:function(t,a){return e(b(t,a))},addnewlayer:function(t){return e(function(e){var t=e.title,a=e.url,n=e.layers,r=e.visible,i=void 0===r||r,l=e.opacity;return{type:"ADD_NEW_LAYER",payload:{title:t,url:a,layers:n,visible:i,opacity:void 0===l?1:l}}}(t))}}})(xe),Me=a(185),Pe=a.n(Me),Re=function(e){return i.a.createElement("div",{className:"ui-component-context ".concat(e.isEdit?"edit":"")},i.a.createElement("div",{className:"top-right-area"},i.a.createElement(J.a,{className:"top-right-visible-manager",variant:"fab",color:"primary",mini:!0},i.a.createElement(Pe.a,{fontSize:"small"})),i.a.createElement(Q.a,{className:"top-right-card"},i.a.createElement($.a,null,i.a.createElement("div",{className:"edit-manager"},i.a.createElement(V,null)),i.a.createElement("div",{className:"layer-manager"},i.a.createElement(R,null))))),i.a.createElement("div",{className:"bottom-right-area"},i.a.createElement(be,null),i.a.createElement(oe,null)),i.a.createElement("div",{className:"modals"},i.a.createElement(we,null)))},ze=a(187),De=a(111),Ye=i.a.createContext({map:null}),Ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r))))._mapReference=i.a.createRef(),a}return Object(y.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.zoom,a=e.center;this._map=new ze.a({view:new De.a({zoom:t||8,center:a||[32e5,5e6]}),controls:[],layers:[]})}},{key:"componentDidMount",value:function(){this._map.setTarget(this._mapReference.current)}},{key:"render",value:function(){var e=this.props.children;return i.a.createElement("div",{style:{width:"100%",height:"100%"},ref:this._mapReference},i.a.createElement(Ye.Provider,{value:{map:this._map}},e))}}]),t}(r.Component),We=a(186),Ue=a(189),Be=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"getLayerParamsOfSource",value:function(e){return e.filter(function(e){return!0===e.visible}).map(function(e){return e.layerName}).join(",")}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,a=t.visible,n=t.opacity,r=t.layers,i=t.url;return e.visible!==a&&this._imageLayer.setVisible(e.visible),e.opacity!==n&&this._imageLayer.setOpacity(e.opacity),e.url!==i&&this._imageLayer.getSource().setUrl(e.url),e.layers!==r&&this._imageLayer.getSource().updateParams({LAYERS:this.getLayerParamsOfSource(e.layers)}),!1}},{key:"componentDidMount",value:function(){var e=this.props,t=e.url,a=e.opacity,n=e.visible,r=e.layers;t&&r&&(this._imageLayer=new We.a({source:new Ue.a({url:t,params:{LAYERS:this.getLayerParamsOfSource(r)},serverType:"geoserver"}),opacity:a||1,visible:n}),this._map.addLayer(this._imageLayer))}},{key:"componentWillUnmount",value:function(){this._map.removeLayer(this._imageLayer)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ye.Consumer,null,function(t){return e._map=t.map,null})}}]),t}(r.Component),He=a(190),Ge=a(188),Ve=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props,n=a.url,r=a.opacity,i=a.visible;return e.visible!==i&&this._basemapLayer.setVisible(e.visible),e.opacity!==r&&(this._basemapLayer.setOpacity(e.opacity),0===e.opacity?this._basemapLayer.setVisible(!1):e.opacity>0&&!0===i&&this._basemapLayer.setVisible(!0)),e.url!==n&&this._basemapLayer.getSource().setUrl(e.url),!1}},{key:"componentDidMount",value:function(){var e=this.props,t=e.url,a=e.opacity,n=e.visible;this._basemapLayer||(this._basemapLayer=new He.a({zIndex:-1,source:new Ge.a({url:t}),visible:n,opacity:a}),this._map.addLayer(this._basemapLayer))}},{key:"componentWillUnmount",value:function(){this._map&&this._basemapLayer&&this._map.removeLayer(this._basemapLayer)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ye.Consumer,null,function(t){return e._map=t.map,null})}}]),t}(r.Component),Fe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._mapPositionSubscription=x.subscribe(function(){var t=e._map.getView(),a=t.getZoom(),n=t.getCenter();e.props.setmapposition({zoom:a,center:n})})}},{key:"componentWillUnmount",value:function(){this._mapPositionSubscription&&this._mapPositionSubscription.unsubscribe()}},{key:"render",value:function(){var e=this;return i.a.createElement(Ye.Consumer,null,function(t){return e._map=t.map,null})}}]),t}(r.Component),Je=Object(m.b)(void 0,function(e){return{setmapposition:function(t){return e({type:"SET_MAP_DEFAULT_POSITON",payload:{zoom:(a=t).zoom,center:a.center}});var a}}})(Fe),Ze=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.layers,a=e.basemaps,n=e.config,r=e.mapSettings,l=t.map(function(e,t){return i.a.createElement(Be,{key:t,url:e.url,layers:e.layers,visible:e.visible,opacity:e.opacity})}),o=a.map(function(e,t){return i.a.createElement(Ve,{key:t,url:e.url,visible:e.visible,opacity:e.opacity,title:e.title})});return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ie,{center:r.center,zoom:r.zoom},l,o,i.a.createElement(Je,null)),i.a.createElement(Re,{isEdit:n.isEdit}))}}]),t}(r.Component),qe=Object(m.b)(function(e){return{layers:e.layers,config:e.config,basemaps:e.basemaps,mapSettings:e.mapSettings}})(Ze),Ke=(a(387),a(87)),Qe={isEdit:!1},Xe={center:void 0,zoom:void 0},$e=Object(Ke.b)({layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("CHANGE_LAYER_PROPERTY"===t.type){var a=t.payload,n=a.layer,r=a.property,i=e.indexOf(n),l=Object.assign({},n,r);return e[i]=l,Object.assign([],e)}if("CHANGE_NESTED_LAYER_PROPERTY"===t.type){var o=t.payload,s=o.layer,c=o.nestedLayer,u=o.property,p=e.indexOf(s),y=s.layers.indexOf(c),m=Object.assign({},c,u);s.layers[y]=m,s.layers=Object.assign([],s.layers);var b=Object.assign({},s);return e[p]=b,Object.assign([],e)}if("ADD_NEW_LAYER"===t.type)return e.push(t.payload),Object.assign([],e);if("DELETE_LAYER"===t.type){var d=t.payload,h=e.indexOf(d);return e.splice(h,1),Object.assign([],e)}return"RESET_LAYERS"===t.type?Object.assign([],[{title:"Test Server",url:"http://194.182.80.44:8080/geoserver/test/wms",opacity:.9,type:"geoserver",visible:!0,layers:[{layerName:"test:random_points",visible:!0},{layerName:"test:bridges",visible:!0}]}]):e},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;return"EDIT_MODE_CHANGED"===t.type?Object.assign({},e,{isEdit:t.payload}):e},basemaps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("CHANGE_BASEMAP_OPACITY"===t.type){var a=t.payload,n=a.basemap,r=a.opacity,i=e.indexOf(n),l=Object.assign({},n,{opacity:r});return e[i]=l,Object.assign([],e)}if("CHANGE_ACTIVE_BASEMAP"===t.type){var o=t.payload.basemap;if(o.visible)return e;var s=e.find(function(e){return e.visible}),c=e.indexOf(s);e[c]=Object.assign({},s,{visible:!1});var u=e.indexOf(o);return e[u]=Object.assign({},o,{visible:!0}),Object.assign([],e)}return"RESET_LAYERS"===t.type?Object.assign([],[{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",visible:!0,title:"Wikimedia Maps",opacity:1},{url:"http://tile.thunderforest.com/cycle/{z}/{x}/{y}.png",visible:!1,title:"OpenCycle",opacity:1},{url:"http://{a-b}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",visible:!1,title:"Humanitarian map style",opacity:1},{url:"http://{a-c}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",visible:!1,title:"OSM France",opacity:1},{url:"http://a.tile.stamen.com/toner/{z}/{x}/{y}.png",visible:!1,title:"Stamen Toner",opacity:1},{url:"http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",visible:!1,title:"Stamen Watercolor",opacity:1},{url:"https://cartodb-basemaps-{1-3}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",visible:!1,title:"CartoDB Light ",opacity:1},{url:"https://cartodb-basemaps-{1-3}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",visible:!1,title:"CartoDB Dark",opacity:1}]):e},mapSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;return"SET_MAP_DEFAULT_POSITON"===t.type?Object.assign({},e,t.payload):e}}),et={layers:[{title:"Test Server",url:"http://194.182.80.44:8080/geoserver/test/wms",opacity:.9,type:"geoserver",visible:!0,layers:[{layerName:"test:random_points",visible:!0},{layerName:"test:bridges",visible:!0}]}],basemaps:[{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",visible:!0,title:"Wikimedia Maps",opacity:1},{url:"http://tile.thunderforest.com/cycle/{z}/{x}/{y}.png",visible:!1,title:"OpenCycle",opacity:1},{url:"http://{a-b}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",visible:!1,title:"Humanitarian map style",opacity:1},{url:"http://{a-c}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",visible:!1,title:"OSM France",opacity:1},{url:"http://a.tile.stamen.com/toner/{z}/{x}/{y}.png",visible:!1,title:"Stamen Toner",opacity:1},{url:"http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",visible:!1,title:"Stamen Watercolor",opacity:1},{url:"https://cartodb-basemaps-{1-3}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",visible:!1,title:"CartoDB Light ",opacity:1},{url:"https://cartodb-basemaps-{1-3}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",visible:!1,title:"CartoDB Dark",opacity:1}]},tt=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(t){return}}();tt&&tt.layers&&tt.basemaps&&Object.assign(et,tt);var at=Object(Ke.c)($e,et,window.devToolsExtension&&window.devToolsExtension());at.subscribe(function(){var e=at.getState();!function(e){try{clearTimeout(n),n=setTimeout(function(){var t=JSON.stringify(e);localStorage.setItem("state",t)},1e3)}catch(t){}}({layers:e.layers,basemaps:e.basemaps,mapSettings:e.mapSettings})});var nt=Object(ue.createMuiTheme)({typography:{useNextVariants:!0}});o.a.render(i.a.createElement(m.a,{store:at},i.a.createElement(ue.MuiThemeProvider,{theme:nt},i.a.createElement(qe,null))),document.getElementById("root"))}},[[200,2,1]]]);
//# sourceMappingURL=main.11ed19bc.chunk.js.map